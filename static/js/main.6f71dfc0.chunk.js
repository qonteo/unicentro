(this.webpackJsonpplzanorte=this.webpackJsonpplzanorte||[]).push([[0],{339:function(e){e.exports=JSON.parse("{}")},341:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),s=a(34),c=a.n(s),r=a(22),l=a(17),i=a(2),d=a.n(i),u=a(10),b=a(3),j="https://dashboard.qonteo.com/REST",m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=localStorage.getItem("token-qonteo")||"",o="".concat(j,"/").concat(e);return"GET"===a?fetch(o,{headers:{Authorization:n}}):fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(j).concat(e),o=localStorage.getItem("token-qonteo")||"";return"GET"===a?fetch(n,{method:a,headers:{Authorization:o}}):"POST"===a?fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:o},body:JSON.stringify(t)}):fetch(n,{method:"POST",headers:{Authorization:o},body:t})},x={authChecking:"[auth] Checking login state",authCheckingFinish:"[auth] Finish Checking login state",authStartLogin:"[auth] Start login",authLogin:"[auth] Login",logout:"[Auth] Logout",authStartRegister:"[auth] Start Register",authLogout:"[auth] Logout",initializePerson:"[Person] Initialize Data",changeDate:"[Date] set New Date",getToten:"[Toten] get Data Toten",initialDataTrazabilidad:"[Trazabilidad] get data init Trazabilidad",changeTrazabilidadByHour:"[Trazabilidad] set Data by hour",resetDates:"[Date] reset Dates",groupUrl:"unicentro",groupName:"CO.UNIC.001",groupId:"18622372"},h=function(e,t){var a=e.token,n=e.user;return function(){var e=Object(u.a)(d.a.mark((function e(o){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("token-qonteo","bear ".concat(a)),localStorage.setItem("id-user-qonteo",n._id),localStorage.setItem("group-id-qonteo",String(t)),localStorage.setItem("token-init-date-qonteo",(new Date).getTime()),o(v({uid:n._id,firstNames:n.firstNames,lastName:n.lastName,email:n.email,phonenumber:n.phonenumber,portraitUrl:n.portrait_url,country:n.country,groups:n.groups,city:n.city,isCheking:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(){return{type:x.authChecking}},v=function(e){return{type:x.authLogin,payload:e}},g=a(13),f=a(7),y=a(0),S=o.a.memo((function(e){var t=e.children;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"headerTop d-flex auth",children:[Object(y.jsx)("img",{className:"imgSmall",src:"/assets/images/header/onlysoda.png",alt:"logosoda"}),Object(y.jsxs)("h1",{className:"titleHeadAuth",children:["data ",Object(y.jsx)("br",{}),"street ",Object(y.jsx)("br",{}),"performance"]})]}),Object(y.jsxs)("div",{className:"w-100 text-center logoMiddle",children:[Object(y.jsx)("img",{src:"/assets/images/header/soda.png"}),Object(y.jsxs)("div",{className:"groupIcons mtMedium",children:[Object(y.jsx)("img",{src:"/assets/icons/camara.svg"}),Object(y.jsx)("img",{src:"/assets/icons/auto.svg"}),Object(y.jsx)("img",{src:"/assets/icons/person-inspect.svg"})]})]}),t]})})),N=a(11),A=function(e){var t=e.groups,a=e.data,o=Object(n.useRef)(null),s=Object(N.b)(),c=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=o.current.value.split(","))[0]!==x.groupId){e.next=9;break}return e.next=4,m("login",a,"POST");case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",s(h(c,t[0])));case 9:window.location.href="https://".concat(t[1],".qonteo.com/");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"chooseGroup",children:[Object(y.jsxs)("select",{ref:o,name:"groupNumber",children:[Object(y.jsx)("option",{hidden:!0,children:"Seleccione un grupo"}),t.map((function(e,t){return Object(y.jsx)("option",{value:[e.id,e.name],children:e.code},t)}))]}),Object(y.jsx)("button",{className:"btn choose",onClick:c,children:"Ir"})]})},E=a(18),D=a.n(E),T=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(!1),c=Object(b.a)(s,2),l=c[0],i=c[1],j=Object(n.useState)(!1),O=Object(b.a)(j,2),x=O[0],p=O[1],v=Object(n.useState)([]),E=Object(b.a)(v,2),T=E[0],P=E[1],M=Object(N.b)(),w=function(e){var t=Object(n.useState)(e),a=Object(b.a)(t,2),o=a[0],s=a[1];return[o,function(e){var t=e.target;s(Object(f.a)(Object(f.a)({},o),{},Object(g.a)({},t.name,t.value)))}]}({email:"",password:""}),k=Object(b.a)(w,2),C=k[0],R=k[1],_=C.email,F=C.password,I=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""===_||""===F){e.next=25;break}return i(!0),e.next=6,m("login",C,"POST");case 6:return e.next=8,e.sent.json();case 8:if(!(a=e.sent).errors){e.next=12;break}return i(!1),e.abrupt("return",D.a.fire("Error","Las credenciales son invalidas","error"));case 12:if(n=a.user.groups,console.log(),i(!1),0!==n.length&&n){e.next=18;break}return e.abrupt("return",o("No tiene acceso a este sitio"));case 18:if(1!==n.length||"unicentro"===n[0].name){e.next=20;break}return e.abrupt("return",o("No pertenece a este grupo"));case 20:if(1!==n.length||"unicentro"!==n[0].name){e.next=22;break}return e.abrupt("return",M(h(a)));case 22:return p(!0),P(n),e.abrupt("return");case 25:D.a.fire("Error","Los campos no pueden estar vacios","error"),e.next=31;break;case 28:throw e.prev=28,e.t0=e.catch(1),new Error("ocurrio un error al realizar la peticion");case 31:case"end":return e.stop()}}),e,null,[[1,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(S,{children:Object(y.jsx)("div",{className:"contenedor",children:x?Object(y.jsx)(A,{groups:T,data:C}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"error spaceTopSmall d-block text-center",children:a&&a}),Object(y.jsxs)("form",{onSubmit:I,className:"formLogin spaceBottomSmall",children:[Object(y.jsx)("input",{type:"text",name:"email",onChange:R,placeholder:"Correo electr\xf3nico",value:_}),Object(y.jsx)("input",{type:"password",name:"password",onChange:R,placeholder:"Contrase\xf1a",value:F}),Object(y.jsx)("div",{className:"forgotPass text-rigth",children:Object(y.jsx)("span",{className:"link ",children:"\xbfOlvidaste tu contrase\xf1a?"})}),Object(y.jsx)("input",{type:"submit",value:l?"Cargando...":"Iniciar Ses\xedon",className:"btn btn-login"}),Object(y.jsx)(r.b,{className:"link mtSmall text-center w-100 d-block",to:"/auth/registrarse",children:"Registrarse"})]})]})})})},P=function(){return Object(y.jsx)(S,{children:Object(y.jsx)("div",{className:"contenedor",children:Object(y.jsxs)("form",{className:"formLogin spaceBottomSmall",children:[Object(y.jsx)("input",{type:"text",name:"rFirstname",id:"firstname",autoComplete:"off",placeholder:"Nombre"}),Object(y.jsx)("input",{type:"text",name:"rLastname",id:"lastname",autoComplete:"off",placeholder:"Apellidos"}),Object(y.jsx)("input",{type:"text",name:"lEmail",id:"correolog",placeholder:"Correo electr\xf3nico"}),Object(y.jsx)("input",{type:"password",name:"lPassword",id:"contralog",placeholder:"Contrase\xf1a"}),Object(y.jsx)("input",{type:"submit",value:"Registrarse",className:"btn btn-login"}),Object(y.jsx)(r.b,{className:"link mtSmall text-center w-100 d-block",to:"/auth/login",children:"Ingresar"})]})})})},M=a(351),w=a(347),k=a(353),C=Object(M.a)(new Date,"yyyy-MM-dd"),R=Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),_=Object(M.a)(Object(k.a)(new Date,1),"yyyy-MM-dd"),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(u.a)(d.a.mark((function t(a,n){var o,s,c,r,l,i,u,b,j,m,h,p,v,g,f,y,S,N,A,E,D,T,P,M,w,k,F,I,L,H,B;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n().auth.groups,t.prev=1,s=o.filter((function(e){return e.code===x.groupName}))[0].id,t.next=5,O("/get-person-graphics?heatmap_p=true&age_range_p=true&date_to=".concat(C,"&date_from=").concat(R,"&resource=").concat(e,"&group_id=").concat(s));case 5:return t.next=7,t.sent.json();case 7:return c=t.sent,t.next=10,O("/get-person-graphics?heatmap_p=true&age_range_p=true&date_from=".concat(_,"&date_to=").concat(C,"&resource=").concat(e,"&group_id=").concat(s));case 10:return t.next=12,t.sent.json();case 12:r=t.sent,l=c.hours,i=c.week,u=c.heatmap,b=c.heatmap_range,j=c.ageRanges,m=c.max_hour,h=c.max_hour_female,p=c.max_hour_male,v=c.max_week_day,g=c.max_week_day_female,f=c.max_week_day_male,y=r.month,S=r.max_month_day,N=r.max_month_day_female,A=r.max_month_day_male,E=y.map((function(e){return{label:e.day,x:e.day,y:e.total}})),D=y.map((function(e){return{label:e.day,x:e.day,y:e.male}})),T=y.map((function(e){return{label:e.day,x:e.day,y:e.female}})),P=l.map((function(e){return{label:e.time,x:e.hour,y:e.total}})),M=l.map((function(e){return{label:e.time,x:e.hour,y:e.male}})),w=l.map((function(e){return{label:e.time,x:e.hour,y:e.female}})),k=i.map((function(e){return{label:e.dow,x:e.dow,y:e.total}})),F=i.map((function(e){return{label:e.dow,x:e.dow,y:e.male}})),I=i.map((function(e){return{label:e.dow,x:e.dow,y:e.female}})),L=u.map((function(e){return{label:e.time,x:e.day,y:e.total}})),H=b.map((function(e){return{label:e.color,x:e.range,y:e.color}})),B=[],j&&(B=j.map((function(e){return{label:e.range,x:e.male,y:e.female}}))),a(Y({hoursPersonTotal:P,hoursPersonMale:M,hoursPersonFemale:w,weekPersonTotal:k,weekPersonMale:F,weekPersonFemale:I,heatmapPersonTotal:L,heatmapPersonRange:H,rangePersonAges:B,maxHourPersonTotal:m,maxHourPersonMale:p,maxHourPersonFemale:h,maxWeekPersonTotal:v,maxWeekPersonMale:f,maxWeekPersonFemale:g,monthPersonTotal:E,monthPersonMale:D,monthPersonFemale:T,maxMonthPersonTotal:S,maxMonthPersonMale:A,maxMonthPersonFemale:N})),t.next=34;break;case 31:throw t.prev=31,t.t0=t.catch(1),new Error(t.t0);case 34:case"end":return t.stop()}}),t,null,[[1,31]])})));return function(e,a){return t.apply(this,arguments)}}()},I=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n,o){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/get-person-graphics?heatmap_p=true&age_range_p=true&date_from=".concat(t,"&date_to=").concat(a,"&resource=").concat(n,"&group_id=").concat(o));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}(),L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return function(){var o=Object(u.a)(d.a.mark((function o(s,c){var r,l,i,u,b,j,m,O;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=c().auth.groups,o.prev=1,i=r.filter((function(e){return e.code===x.groupName}))[0].id,o.next=5,I(e,t,a,i);case 5:u=o.sent,b=u.hours.map((function(e){return{label:e.time,x:e.hour,y:e[n]}})),j=n.charAt(0).toLocaleUpperCase()+n.substr(1,n.length),m="hoursPerson"+j,O=u.max_hour,"total"!==n&&(O=u["max_hour_".concat(n)]),s(Y((l={},Object(g.a)(l,m,b),Object(g.a)(l,"maxHourPerson".concat(j),O),l))),o.next=16;break;case 14:o.prev=14,o.t0=o.catch(1);case 16:case"end":return o.stop()}}),o,null,[[1,14]])})));return function(e,t){return o.apply(this,arguments)}}()},H=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return function(){var o=Object(u.a)(d.a.mark((function o(s,c){var r,l,i,u,b,j,m,O;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=c().auth.groups,o.prev=1,i=r.filter((function(e){return e.code===x.groupName}))[0].id,o.next=5,I(e,t,a,i);case 5:u=o.sent,b=u.week.map((function(e){return{label:e.dow,x:e.dow,y:e[n]}})),j=n.charAt(0).toLocaleUpperCase()+n.substr(1,n.length),m="weekPerson"+j,O=u.max_week_day,"total"!==n&&(O=u["max_week_day_".concat(n)]),s(Y((l={},Object(g.a)(l,m,b),Object(g.a)(l,"maxWeekPerson".concat(j),O),l))),o.next=16;break;case 14:o.prev=14,o.t0=o.catch(1);case 16:case"end":return o.stop()}}),o,null,[[1,14]])})));return function(e,t){return o.apply(this,arguments)}}()},B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return function(){var o=Object(u.a)(d.a.mark((function o(s,c){var r,l,i,u,b,j,m,O;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=c().auth.groups,o.prev=1,i=r.filter((function(e){return e.code===x.groupName}))[0].id,o.next=5,I(e,t,a,i);case 5:u=o.sent,b=u.month.map((function(e){return{label:e.day,x:e.day,y:e[n]}})),j=n.charAt(0).toLocaleUpperCase()+n.substr(1,n.length),m="monthPerson"+j,O=u.max_month_day,"total"!==n&&(O=u["max_month_day_".concat(n)]),s(Y((l={},Object(g.a)(l,m,b),Object(g.a)(l,"maxMonthPerson".concat(j),O),l))),o.next=16;break;case 14:o.prev=14,o.t0=o.catch(1);case 16:case"end":return o.stop()}}),o,null,[[1,14]])})));return function(e,t){return o.apply(this,arguments)}}()},z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(u.a)(d.a.mark((function n(o,s){var c,r,l,i,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=s().auth.groups,n.prev=1,r=c.filter((function(e){return e.code===x.groupName}))[0].id,n.next=5,O("/get-person-graphics?date_from=".concat(e,"&date_to=").concat(t,"&age_range_p=true&group_id=").concat(r,"&resource=").concat(a,"&heatmap_p=true"));case 5:return n.next=7,n.sent.json();case 7:l=n.sent,i=l.heatmap.map((function(e){return{label:e.time,x:e.day,y:e.total}})),u=l.heatmap_range.map((function(e){return{label:e.color,x:e.range,y:e.color}})),console.log(i),o(Y({heatmapPersonTotal:i,heatmapPersonRange:u})),n.next=16;break;case 14:n.prev=14,n.t0=n.catch(1);case 16:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e,t){return n.apply(this,arguments)}}()},G=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(u.a)(d.a.mark((function n(o,s){var c,r,l,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=s().auth.groups,n.prev=1,r=c.filter((function(e){return e.code===x.changeTrazabilidadByHour}))[0].id,n.next=5,O("/get-person-graphics?date_from=".concat(e,"&date_to=").concat(t,"&age_range_p=true&group_id=").concat(r,"&totem=").concat(a,"&heatmap_p=true"));case 5:return n.next=7,n.sent.json();case 7:l=n.sent,i=l.ageRanges.map((function(e){return{label:e.range,x:e.male,y:e.female}})),o(Y({rangePersonAges:i})),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t){return n.apply(this,arguments)}}()},Y=function(e){return{type:x.initializePerson,payload:e}},U=a(31),W=o.a.memo((function(e){var t=e.data,a=void 0===t?[]:t,n=e.label,o=e.dtsetbg,s=e.optionbg,c=e.scalebg,r=e.title,l=e.labelop,i=e.legendbg,d=void 0===i?"black":i,u=e.scltxtlbl,b=void 0!==u&&u,j=e.pl,m=void 0===j?0:j,O=e.pr,x=void 0===O?0:O,h=e.pb,p=void 0===h?0:h,v=e.pt,g=void 0===v?0:v,f=e.theme,S=void 0===f?"ligth":f,N=e.id,A=void 0===N?"":N;return Object(y.jsx)(y.Fragment,{children:0===a.length?Object(y.jsx)("div",{className:"__loader_grafic",children:Object(y.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(y.jsx)("div",{className:"flex-center",children:Object(y.jsx)("div",{id:A,className:"contenedorChart  ".concat(S," classtest"),children:Object(y.jsx)(U.Bar,{data:{labels:a.map((function(e){return e.x})),datasets:[{label:"".concat(n),backgroundColor:"".concat(o),data:a.map((function(e){return e.y})),borderWidth:0}],borderWidth:0},options:{cornerRadius:20,title:{display:!0,fontSize:30,fontColor:"".concat(s),fontFamily:"Barlow",fontStyle:400},layout:{padding:{left:m,right:x,top:g,bottom:p}},legend:{position:"bottom",labels:{padding:20,boxWidth:15,fontSize:18,fontFamily:"Barlow",fontColor:"".concat(d)}},tooltips:{enabled:!0,mode:"single",callbacks:{title:function(e,t){return"".concat(r)+a[e[0].index].label},label:function(e,t){return"".concat(l)+e.yLabel}}},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{fontColor:"".concat(c),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!1},scaleLabel:{display:!1,labelString:"".concat(b),fontSize:18}}],xAxes:[{ticks:{fontColor:"".concat(c),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!1}}]}}})})})})})),X=function(){return Object(y.jsx)("div",{})},q=o.a.memo((function(){return Object(y.jsxs)("div",{className:"headerTop grid3",children:[Object(y.jsx)("img",{src:"/assets/images/header/logosoda.png",alt:"logosoda"}),Object(y.jsx)("img",{src:"/assets/images/header/soda.png",alt:"logo"}),Object(y.jsx)("div",{className:"iconNotify",children:Object(y.jsx)("img",{src:"/assets/icons/notify.svg",alt:"notify"})})]})})),J=o.a.memo((function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],o=t[1],s=Object(N.b)(),c=Object(l.g)(),i=Object(n.useRef)(null);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{ref:i,className:"iconCloseOpen",onClick:function(){i.current.parentNode.classList.toggle("open"),document.querySelector(".contentScreens").classList.toggle("open"),o(!a)},children:Object(y.jsx)("img",{src:"".concat(a?"/assets/icons/close.svg":"/assets/icons/closeopen.svg"," "),alt:"iconClose"})}),Object(y.jsxs)("div",{className:"icons",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)(r.b,{exact:!0,to:"/",activeClassName:"activeIcon",className:"icon",children:[Object(y.jsx)("img",{src:"/assets/icons/home.svg",alt:"iconHome"}),Object(y.jsx)("span",{className:"titleIcon",children:"Home"})]}),Object(y.jsxs)(r.b,{exact:!0,to:"/",activeClassName:"activeIcon",className:"icon",children:[Object(y.jsx)("span",{className:"nameIcon",children:"Oportunidades"}),Object(y.jsx)("img",{src:"/assets/icons/person.svg",alt:"iconPerson"}),Object(y.jsx)("span",{className:"titleIcon",children:"Personas"})]}),Object(y.jsxs)("div",{className:"icon-two",children:[Object(y.jsx)("span",{className:"nameIcon",children:"Reportes"}),Object(y.jsx)("div",{className:"icon ".concat(c.pathname.includes("especifico")?"activeIcon":""),children:Object(y.jsxs)(r.b,{exact:!0,to:"/reportes/especifico",children:[Object(y.jsx)("img",{src:"/assets/icons/report.svg",className:"w-4 l-2",alt:"iconPerson"}),Object(y.jsx)("span",{className:"titleIcon",children:"Especifico"})]})})]})]}),Object(y.jsx)("div",{className:"pweroff",children:Object(y.jsx)("img",{onClick:function(){localStorage.clear(),s({type:x.authChecking})},src:"/assets/icons/closesession.svg",alt:"iconPerson"})})]})]})})),V=o.a.memo((function(e){var t=e.children,a=e.isSidebar,n=void 0===a||a;return Object(y.jsxs)("div",{className:"mainScreens",children:[n&&Object(y.jsx)("div",{className:"contentSidebar",children:Object(y.jsx)(J,{})}),Object(y.jsxs)("div",{className:"contentScreens ".concat(!n&&"m-0"),children:[Object(y.jsx)(q,{}),t,Object(y.jsx)(X,{})]})]})})),Z=function(e){return null===e?0:null===e||void 0===e?void 0:e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=Math.round(100*t/e);return isNaN(a)||a===Number.POSITIVE_INFINITY?0:a},$=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.percent,c=void 0===s?0:s,r=e.txtdetail,l=void 0===r?"Personas en Total":r;new Date;return Object(y.jsxs)("div",{className:"boxUI flexColumn ".concat(a),children:[Object(y.jsx)("span",{className:"boxDate",children:"16-Jun-2022"}),Object(y.jsxs)("div",{className:"main",children:[Object(y.jsxs)("div",{className:"boxBody date",children:[Object(y.jsxs)("span",{className:"boxPercent",children:[c>0?"+":0===c?"":"-"," ",c,"%"]}),Object(y.jsx)("span",{className:"boxCount",children:Z(o)}),Object(y.jsx)("span",{className:"boxDay",children:"HOY"})]}),Object(y.jsx)("div",{className:"boxFooter mtBox",children:l})]})]})},K=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.txtdetail,c=void 0===s?"Personas en Total":s,r=new Date,l=["Ene","Feb","Marc","Abr","Mai","Jun","Jul","Aug","Set","Oct","Nov","Dec"],i="16-"+l[5]+"-2022",d=r.getDate()+"-"+l[r.getMonth()+1]+"-"+r.getFullYear();return Object(y.jsxs)("div",{className:"boxUI flexColumn ".concat(a),children:[Object(y.jsxs)("div",{className:"rangeDate",children:[Object(y.jsx)("span",{className:"boxDate",children:i}),Object(y.jsx)("span",{className:"boxDate",children:d})]}),Object(y.jsxs)("div",{className:"main",children:[Object(y.jsxs)("div",{className:"boxBody",children:[Object(y.jsx)("span",{className:"boxCount ",children:Z(o)}),Object(y.jsx)("span",{className:"BoxText mtBox",children:"TOTAL"})]}),Object(y.jsx)("div",{className:"boxFooter mtBox",children:c})]})]})},ee=function(e){var t=e.gender,a=e.theme,n=void 0===a?"dark":a,o=e.total,s=void 0===o?0:o,c=e.count,r=void 0===c?0:c;return Object(y.jsx)("div",{className:"boxUI flex gender ".concat(n),children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"boxBody",children:["male"===t?Object(y.jsx)("img",{className:"icongender",src:"dark"===n?"/assets/icons/male-white.svg":"/assets/icons/male-dark.svg"}):Object(y.jsx)("img",{className:"icongender",src:"dark"===n?"/assets/icons/female-white.svg":"/assets/icons/female-dark.svg"}),Object(y.jsx)("span",{className:"count boxCountGender",children:Z(r)}),Object(y.jsx)("span",{className:" mtBox",children:"male"===t?"HOMBRES":"MUJERES"})]}),Object(y.jsx)("div",{className:"boxFooter mtBox",children:Object(y.jsxs)("span",{className:"boxPercent",children:[Q(s,r)," %"]})})]})})},te=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.txtdetail,c=void 0===s?"Personas en Total":s;return Object(y.jsx)("div",{className:"boxUI flex ".concat(a),children:Object(y.jsxs)("div",{className:"content",children:[Object(y.jsxs)("div",{className:"boxBody",children:[Object(y.jsx)("span",{className:"boxCount",children:Z(o)}),Object(y.jsx)("span",{className:"boxDay mtBox",children:"AYER"})]}),Object(y.jsx)("div",{className:"boxFooter mtBox",children:c})]})})},ae=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.percent,c=void 0===s?0:s,r=e.txtdetail,l=void 0===r?"Personas en Total":r;return Object(y.jsx)("div",{className:"boxUI flex ".concat(a),children:Object(y.jsxs)("div",{className:"content",children:[Object(y.jsxs)("div",{className:"boxBody",children:[Object(y.jsxs)("span",{className:"boxPercent",children:[c>0?"+":0===c?"":"-"," ",c,"%"]}),Object(y.jsx)("span",{className:"boxCount mtBox",children:Z(o)}),Object(y.jsx)("span",{className:"boxDay mtBox",children:"ESTA SEMANA"})]}),Object(y.jsx)("div",{className:"boxFooter mtBox",children:l})]})})};U.Chart.elements.Rectangle.prototype.draw=function(){var e,t,a,n,o,s,c,r=this._chart.ctx,l=this._view,i=l.borderWidth,d=this._chart.config.options.cornerRadius;if(d<0&&(d=0),"undefined"===typeof d&&(d=0),l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,n=l.y+l.height/2,o=t>e?1:-1,s=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,o=1,s=(n=l.base)>a?1:-1,c=l.borderSkipped||"bottom"),i){var u=Math.min(Math.abs(e-t),Math.abs(a-n)),b=(i=i>u?u:i)/2,j=e+("left"!==c?b*o:0),m=t+("right"!==c?-b*o:0),O=a+("top"!==c?b*s:0),x=n+("bottom"!==c?-b*s:0);j!==m&&(a=O,n=x),O!==x&&(e=j,t=m)}r.beginPath(),r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=i;var h=[[e,n],[e,a],[t,a],[t,n]],p=["bottom","left","top","right"].indexOf(c,0);function v(e){return h[(p+e)%4]}-1===p&&(p=0);var g=v(0);r.moveTo(g[0],g[1]);for(var f=1;f<4;f++){g=v(f);var y=f+1;4===y&&(y=0),v(y);var S=h[2][0]-h[1][0],N=h[0][1]-h[1][1],A=h[1][0],E=h[1][1],D=d;if(D>Math.abs(N)/2&&(D=Math.floor(Math.abs(N)/2)),D>Math.abs(S)/2&&(D=Math.floor(Math.abs(S)/2)),N<0){var T=A,P=A+S,M=E+N,w=E+N,k=A,C=A+S,R=E,_=E;r.moveTo(k+D,R),r.lineTo(C-D,_),r.quadraticCurveTo(C,_,C,_-D),r.lineTo(P,w+D),r.quadraticCurveTo(P,w,P-D,w),r.lineTo(T+D,M),r.quadraticCurveTo(T,M,T,M+D),r.lineTo(k,R-D),r.quadraticCurveTo(k,R,k+D,R)}else if(S<0){var F=A+S,I=A,L=E,H=E,B=A+S,z=A,G=E+N,Y=E+N;r.moveTo(B+D,G),r.lineTo(z-D,Y),r.quadraticCurveTo(z,Y,z,Y-D),r.lineTo(I,H+D),r.quadraticCurveTo(I,H,I-D,H),r.lineTo(F+D,L),r.quadraticCurveTo(F,L,F,L+D),r.lineTo(B,G-D),r.quadraticCurveTo(B,G,B+D,G)}else r.moveTo(A+D,E),r.lineTo(A+S-D,E),r.quadraticCurveTo(A+S,E,A+S,E+D),r.lineTo(A+S,E+N-D),r.quadraticCurveTo(A+S,E+N,A+S-D,E+N),r.lineTo(A+D,E+N),r.quadraticCurveTo(A,E+N,A,E+N-D),r.lineTo(A,E+D),r.quadraticCurveTo(A,E,A+D,E)}r.fill(),i&&r.stroke()};var ne=a(40),oe=a.n(ne),se=(a(108),a(125)),ce=a(348),re=a(349),le=a(350),ie=function(e,t,a,n){return{type:x.changeDate,start:e,startvalue:t,end:a,endvalue:n}},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=Object(N.b)(),l=Object(N.c)((function(e){return e.date})),i=Object(n.useState)(Object(se.a)(new Date(l[o]),1)),d=Object(b.a)(i,2),u=d[0],j=d[1],m=Object(n.useState)(Object(se.a)(new Date(l[s]),1)),O=Object(b.a)(m,2),x=O[0],h=O[1],p=function(n){var c=Object(M.a)(n,"yyyy-MM-dd"),l=Object(M.a)(x,"yyyy-MM-dd"),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),d=new Intl.DateTimeFormat("en",{month:"numeric"}).format(n),u=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n),b=new Intl.DateTimeFormat("en",{year:"numeric"}).format(x),m=new Intl.DateTimeFormat("en",{month:"numeric"}).format(x),O=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(x);if(Object(ce.a)(new Date(i,d,u),new Date(b,m,O))||Object(re.a)(new Date(i,d,u),new Date(b,m,O)))return D.a.fire("Error","La fecha Inicio debe ser menor que la fecha de fin","error");j(n),r(e(c,l,t,a)),r(ie(o,c,s,l))},v=function(n){var c=Object(M.a)(u,"yyyy-MM-dd"),l=Object(M.a)(n,"yyyy-MM-dd"),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(u),d=new Intl.DateTimeFormat("en",{month:"numeric"}).format(u),b=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(u),j=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),m=new Intl.DateTimeFormat("en",{month:"numeric"}).format(n),O=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n);if(Object(le.a)(new Date(j,m,O),new Date(i,d,b))||Object(re.a)(new Date(i,d,b),new Date(j,m,O)))return D.a.fire("Error","La fecha fin debe ser mayor que la fecha de inicio","error");h(n),r(e(c,l,t,a)),r(ie(o,c,s,l))},g=function(){return Object(y.jsxs)("div",{className:"filterDate",children:[Object(y.jsxs)("div",{className:"date",children:[Object(y.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(y.jsx)(oe.a,{selected:u,onChange:p,format:"yyyy-MM-dd",maxDate:new Date,showMonthYearPicker:c})]}),Object(y.jsxs)("div",{className:"date",children:[Object(y.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(y.jsx)(oe.a,{selected:x,onChange:v,format:"yyyy-MM-dd",maxDate:new Date,showMonthYearPicker:c})]})]})};return[g,u,x,j,h]},ue=function(e){var t=e.data,a=e.label,n=e.dtsetbg,o=e.optionbg,s=e.scalebg,c=e.title,r=e.labelop,l=e.legendbg,i=void 0===l?"black":l,d=(e.sexo,e.lineColor),u=void 0===d?"#5BCDFA":d,b=e.scltxtlbl,j=void 0===b?"Cantidad de veh\xedculos":b,m=e.pl,O=void 0===m?0:m,x=e.pr,h=void 0===x?0:x,p=e.pb,v=void 0===p?0:p,g=e.pt,f=void 0===g?0:g,S=e.theme,N=void 0===S?"ligth":S,A=e.id,E=void 0===A?"":A;return Object(y.jsx)(y.Fragment,{children:0===t.length?Object(y.jsx)("div",{className:"__loader_grafic",children:Object(y.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(y.jsx)("div",{className:"flex-center",children:Object(y.jsx)("div",{id:E,className:"contenedorChart  ".concat(N," classtest"),children:Object(y.jsx)(U.Line,{data:{labels:t.map((function(e){return e.x})),datasets:[{label:"".concat(a),backgroundColor:"".concat(n),data:t.map((function(e){return e.y})),lineTension:.1,borderDashOffset:0,borderJoinStyle:"miter",borderCapStyle:"butt",pointBorderWidth:1,pointHoverRadius:5}],borderWidth:1},options:{cornerRadius:20,title:{display:!0,fontSize:30,padding:50,fontColor:"".concat(o),fontFamily:"Barlow",fontStyle:400},layout:{padding:{left:O,right:h,top:f,bottom:v}},legend:{position:"bottom",labels:{padding:20,boxWidth:15,fontSize:18,fontFamily:"Barlow",fontColor:"".concat(i)}},elements:{line:{borderWidth:5,fill:!1,borderColor:"".concat(u),tension:.5},point:{radius:6}},tooltips:{enabled:!0,mode:"single",callbacks:{title:function(e,a){return"".concat(c," ")+t[e[0].index].label},label:function(e,t){return"".concat(r," ")+e.yLabel}}},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{fontColor:"".concat(s),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!0,drawBorder:!1,zeroLineColor:"#FEE700",zeroLineWidth:3},scaleLabel:{display:!0,labelString:"".concat(j),fontSize:18}}],xAxes:[{ticks:{fontColor:"".concat(s),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!1}}]}}})})})})},be=a(36),je=(a(92),Object(n.memo)((function(e){var t=e.data,a=e.range,o=Object(n.useRef)();Object(n.useEffect)((function(){return c(t),function(){s()}}),[t]),Object(n.useEffect)((function(){!function(){var e=setTimeout((function(){0===t.length&&document.querySelector(".heatmaploading")&&document.querySelector(".heatmaploading").parentElement.parentElement.removeChild(document.querySelector(".heatmaploading").parentElement)}),5e3)}()}),[]);var s=function(){o.current&&null!==o.current.querySelector("svg")&&o.current.querySelector("svg").remove()},c=function(e){if(e.length>0){var t={top:30,right:200,bottom:200,left:50},a=900-t.left-t.right,n=950-t.top-t.bottom,s=be.e(o.current).attr("align","center").append("svg").attr("width",700).attr("height",750).append("g").attr("transform","translate("+t.left+","+t.top+")"),c=be.c().range([0,a]).domain(["DOM","LUN","MAR","MIE","JUE","VIE","SAB"]).padding(.01);s.append("g").attr("transform","translate(0, 0)").call(be.b(c));var r=be.c().range([n,0]).domain(["23:00h","22:00h","21:00h","20:00h","19:00h","18:00h","17:00h","16:00h","15:00h","14:00h","13:00h","12:00h","11:00h","10:00h","9:00h","8:00h","7:00h","6:00h","5:00h","4:00h","3:00h","2:00h","1:00h","0:00h"]).padding(.01);s.append("g").call(be.a(r));var l=e.map((function(e){return e.y})),i=be.d().range(["#5BCDFA","#5EAFFE","#4782F5","#3450EF","#0502D3"]).domain(l),d=s.selectAll().data(e,(function(e){return e.x+":"+e.label})).enter().append("g").attr("transform",(function(e){return"translate("+c(e.x)+","+r(e.label)+")"}));d.append("rect").attr("width",c.bandwidth()).attr("height",r.bandwidth()).style("fill",(function(e){return i(e.y)})),d.append("text").attr("x",c.bandwidth()/2).attr("y",r.bandwidth()/2+4).text((function(e){return e.y})).style("font-family","Barlow").style("font-size","8pt").style("fill","white").style("text-anchor","middle")}};return Object(y.jsx)(y.Fragment,{children:0===t.length?Object(y.jsx)("div",{className:"__loader_grafic heatmaploading",children:Object(y.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"rangeHeatMap",children:a.map((function(e,t){var a=e.x;return Object(y.jsxs)("div",{className:"range",children:[Object(y.jsx)("span",{children:a}),Object(y.jsx)("div",{className:"bgColorHeatMap"})]},t)}))}),Object(y.jsx)("div",{className:"mtxl text-center",ref:o})]})})}))),me=o.a.memo((function(e){var t=e.data,a=void 0===t?[]:t,n=e.id,o=void 0===n?"":n;return Object(y.jsx)(y.Fragment,{children:0===a.length?Object(y.jsx)("div",{className:"__loader_grafic",children:Object(y.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(y.jsx)("div",{className:"flex-center",children:Object(y.jsx)("div",{id:o,className:"contenedorChart  classtest",children:Object(y.jsx)(U.HorizontalBar,{data:{labels:a.map((function(e){return e.label})),datasets:[{label:"Hombres",backgroundColor:"#0502D3",data:a.map((function(e){return e.x}))},{label:"Mujeres",backgroundColor:"#1EAEF0",data:a.map((function(e){return-1*e.y}))}]},options:{cornerRadius:20,title:{display:!0,fontSize:30,padding:30,fontColor:"#454545",fontFamily:"Barlow",fontStyle:400},maintainAspectRatio:!1,legend:{position:"bottom",labels:{padding:20,boxWidth:15,fontFamily:"system-ui",fontColor:"black"},reverse:!0},tooltips:{titleFontSize:20,xPadding:20,yPadding:20,bodyFontSize:15,bodySpacing:10,callbacks:{title:function(e,t){return"Edad:  "+t.labels[e[0].index]+" a\xf1os"},label:function(e,t){var a=-1===Math.sign(t.datasets[e.datasetIndex].data[e.index])?-1*t.datasets[e.datasetIndex].data[e.index]:t.datasets[e.datasetIndex].data[e.index];return t.datasets[e.datasetIndex].label+": "+a}}},elements:{line:{borderWidth:8,fill:!1}},scales:{xAxes:[{stacked:!1,ticks:{beginAtZero:!0},gridLines:{display:!1}}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0},gridLines:{display:!1},scaleLabel:{display:!0,labelString:"Edad",fontSize:18},position:"left"}]}}})})})})})),Oe=Object(M.a)(new Date,"yyyy-MM-dd"),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,i=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],u=Object(n.useState)(Object.keys(e)[l]),j=Object(b.a)(u,2),m=j[0],O=j[1],x=Object(N.b)(),h=function(e,n){if(e.classList.contains("active"))return!1;var r=Object(w.a)(new Date,n),l=Object(M.a)(r,"yyyy-MM-dd");x(t(l,Oe,a,o)),i&&(i(new Date(r)),d(Object(se.a)(new Date(Oe),1))),O(n),x(ie(s,l,c,Oe))},p=function(){O(Object.keys(e)[1])},v=function(){return Object(y.jsx)("div",{reset:r+"rst",className:"groupButtons text-center spaceBottom",children:Object.keys(e).map((function(t,a){return Object(y.jsx)("button",{onClick:function(e){var a=e.target;return h(a,t)},className:"filterBtn ".concat(t===m?"active":""),children:e[t]},a)}))})};return[v,p]},he=a(37),pe=function(e){return{type:x.getToten,payload:e}},ve=function(e){e.location;var t,a,o,s,c,r,l,i,j,m,h,p,v,S,A,E,D,T,P,M,w,k,C=Object(N.b)(),R=Object(N.c)((function(e){return e.person})),_=R.hoursPersonTotal,I=R.hoursPersonMale,Y=R.hoursPersonFemale,U=R.weekPersonTotal,X=R.weekPersonMale,q=R.weekPersonFemale,J=R.monthPersonTotal,Q=R.monthPersonMale,ne=R.monthPersonFemale,oe=R.heatmapPersonTotal,se=R.heatmapPersonRange,ce=R.rangePersonAges,re=R.maxHourPersonTotal,le=R.maxHourPersonMale,ie=R.maxHourPersonFemale,be=R.maxWeekPersonTotal,Oe=R.maxWeekPersonMale,ve=R.maxWeekPersonFemale,ge=R.maxMonthPersonTotal,fe=R.maxMonthPersonMale,ye=R.maxMonthPersonFemale,Se=Object(N.c)((function(e){return e.date})),Ne=Se.dateStartHourPerson,Ae=Se.dateEndHourPerson,Ee=Se.dateStartHourMalePerson,De=Se.dateEndHourMalePerson,Te=Se.dateStartHourFemalePerson,Pe=Se.dateEndHourFemalePerson,Me=Se.dateStartWeekPerson,we=Se.dateEndWeekPerson,ke=Se.dateStartWeekMalePerson,Ce=Se.dateEndWeekMalePerson,Re=Se.dateStartWeekFemalePerson,_e=Se.dateEndWeekFemalePerson,Fe=Se.dateStartMonthPerson,Ie=Se.dateEndMonthPerson,Le=Se.dateStartMonthMalePerson,He=Se.dateEndMonthMalePerson,Be=Se.dateStartMonthFemalePerson,ze=Se.dateEndMonthFemalePerson,Ge=Se.dateStartAgePerson,Ye=Se.dateEndAgePerson,Ue=Se.dateStartHeatMap,We=Se.dateEndHeatMap,Xe=Object(N.c)((function(e){return e.toten})),qe=Xe.totemTotal,Je=Xe.resources,Ve=Xe.tabs,Ze=Object(n.useState)(""),Qe=Object(b.a)(Ze,2),$e=Qe[0],Ke=Qe[1],et=de(L,$e,"total","dateStartHourPerson","dateEndHourPerson",""),tt=Object(b.a)(et,5),at=tt[0],nt=tt[3],ot=tt[4],st=de(L,$e,"male","dateStartHourMalePerson","dateEndHourMalePerson",""),ct=Object(b.a)(st,5),rt=ct[0],lt=ct[3],it=ct[4],dt=de(L,$e,"female","dateStartHourFemalePerson","dateEndHourFemalePerson",""),ut=Object(b.a)(dt,5),bt=ut[0],jt=ut[3],mt=ut[4],Ot=de(H,$e,"total","dateStartWeekPerson","dateEndWeekPerson",""),xt=Object(b.a)(Ot,5),ht=xt[0],pt=xt[3],vt=xt[4],gt=de(H,$e,"male","dateStartWeekMalePerson","dateEndWeekMalePerson",""),ft=Object(b.a)(gt,5),yt=ft[0],St=ft[3],Nt=ft[4],At=de(H,$e,"female","dateStartWeekFemalePerson","dateEndWeekFemalePerson",""),Et=Object(b.a)(At,5),Dt=Et[0],Tt=Et[3],Pt=Et[4],Mt=de(B,$e,"total","dateStartMonthPerson","dateEndMonthPerson","",!0),wt=Object(b.a)(Mt,5),kt=wt[0],Ct=wt[3],Rt=wt[4],_t=de(B,$e,"male","dateStartMonthMalePerson","dateEndMonthMalePerson","",!0),Ft=Object(b.a)(_t,5),It=Ft[0],Lt=Ft[3],Ht=Ft[4],Bt=de(B,$e,"female","dateStartMonthFemalePerson","dateEndMonthFemalePerson","",!0),zt=Object(b.a)(Bt,5),Gt=zt[0],Yt=zt[3],Ut=zt[4],Wt=de(G,$e,"total","dateStartAgePerson","dateEndAgePerson",""),Xt=Object(b.a)(Wt,5),qt=Xt[0],Jt=Xt[3],Vt=Xt[4],Zt=xe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},L,$e,"total","dateStartHourPerson","dateEndHourPerson","hourstotalrst",1,nt,ot),Qt=Object(b.a)(Zt,2),$t=Qt[0],Kt=(Qt[1],xe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},L,$e,"male","dateStartHourMalePerson","dateEndHourMalePerson","hoursmalerst",1,lt,it)),ea=Object(b.a)(Kt,2),ta=ea[0],aa=(ea[1],xe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},L,$e,"female","dateStartHourFemalePerson","dateEndHourFemalePerson","hoursfemalerst",1,jt,mt)),na=Object(b.a)(aa,2),oa=na[0],sa=(na[1],xe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},H,$e,"total","dateStartWeekPerson","dateEndWeekPerson","weektotalrst",0,pt,vt)),ca=Object(b.a)(sa,2),ra=ca[0],la=(ca[1],xe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},H,$e,"male","dateStartWeekMalePerson","dateEndWeekMalePerson","weekmalerst",0,St,Nt)),ia=Object(b.a)(la,2),da=ia[0],ua=(ia[1],xe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},H,$e,"female","dateStartWeekFemalePerson","dateEndWeekFemalePerson","weekfemalerst",0,Tt,Pt)),ba=Object(b.a)(ua,2),ja=ba[0],ma=(ba[1],xe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},B,$e,"total","dateStartMonthPerson","dateEndMonthPerson","monthtotalrst",0,Ct,Rt)),Oa=Object(b.a)(ma,2),xa=Oa[0],ha=(Oa[1],xe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},B,$e,"male","dateStartMonthMalePerson","dateEndMonthMalePerson","monthmalerst",0,Lt,Ht)),pa=Object(b.a)(ha,2),va=pa[0],ga=(pa[1],xe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},B,$e,"female","dateStartMonthFemalePerson","dateEndMonthFemalePerson","monthfemalerst",0,Yt,Ut)),fa=Object(b.a)(ga,2),ya=fa[0],Sa=(fa[1],xe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},z,$e,"total","dateStartHeatMap","dateEndHeatMap","heatmaprst",1)),Na=Object(b.a)(Sa,2),Aa=Na[0],Ea=(Na[1],xe({0:"HOY",60:"ACUMULADO",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},G,$e,"total","dateStartAgePerson","dateEndAgePerson","ageRangesrst",1,Jt,Vt)),Da=Object(b.a)(Ea,2),Ta=Da[0];Da[1];Object(n.useEffect)((function(){C(F($e)),C(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,o,s,c,r,l,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.groups,o=n.filter((function(e){return e.code===x.groupName}))[0].id,e.next=4,O("/get-person-totals?group_id=".concat(o));case 4:return s=e.sent,e.next=7,s.json();case 7:c=e.sent,r=c.total,l=c.resources,i=l.map((function(e){return{name:e.name,code:e.code}})),u=l.map((function(e){return Object(f.a)({},e.data)})),t(pe({totemTotal:r,resources:u,tabs:i}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[]);var Pa=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target).classList.contains("totenactivetab")){e.next=3;break}return e.abrupt("return",!1);case 3:"LI"==a.tagName&&(n=a.getAttribute("tab-index"),Ke(n),C(F(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(V,{children:Object(y.jsxs)("div",{className:"contenedor",children:[Object(y.jsx)("span",{className:"spaceXY codeQonteo",children:x.GroupName}),Object(y.jsx)("h3",{className:"subTitle",children:"PERSONAS"}),Object(y.jsxs)(he.d,{selectedTabClassName:"totenactivetab",className:"spaceXY",children:[Object(y.jsxs)(he.b,{onClick:Pa,children:[Object(y.jsx)(he.a,{"tab-index":"",children:"TOTAL ACUMULADO"}),Ve.map((function(e,t){return Object(y.jsx)(he.a,{"tab-index":e.code.toString(),children:e.name},t)}))]}),Object(y.jsx)(he.c,{children:Object(y.jsxs)("div",{className:"",children:[Object(y.jsxs)("div",{className:"boxGridFour",children:[Object(y.jsx)($,{count:null===qe||void 0===qe||null===(t=qe.today)||void 0===t?void 0:t.count,percent:null===qe||void 0===qe||null===(a=qe.today)||void 0===a?void 0:a.percent}),Object(y.jsx)(te,{theme:"light",count:null===qe||void 0===qe||null===(o=qe.yesterday)||void 0===o?void 0:o.total}),Object(y.jsx)(ae,{theme:"light",count:null===qe||void 0===qe||null===(s=qe.week)||void 0===s?void 0:s.total,percent:null===qe||void 0===qe||null===(c=qe.week)||void 0===c?void 0:c.percent}),Object(y.jsx)(K,{theme:"light",count:null===qe||void 0===qe||null===(r=qe.total)||void 0===r?void 0:r.count})]}),Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"female",count:null===qe||void 0===qe||null===(l=qe.today)||void 0===l?void 0:l.female,total:null===qe||void 0===qe||null===(i=qe.today)||void 0===i?void 0:i.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"female",count:null===qe||void 0===qe||null===(j=qe.yesterday)||void 0===j?void 0:j.female,total:null===qe||void 0===qe||null===(m=qe.yesterday)||void 0===m?void 0:m.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===qe||void 0===qe||null===(h=qe.week)||void 0===h?void 0:h.female,total:null===qe||void 0===qe||null===(p=qe.week)||void 0===p?void 0:p.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===qe||void 0===qe||null===(v=qe.total)||void 0===v?void 0:v.female,total:null===qe||void 0===qe||null===(S=qe.total)||void 0===S?void 0:S.count,txtDay:"TOTAL",theme:"light"})]}),Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"male",count:null===qe||void 0===qe||null===(A=qe.today)||void 0===A?void 0:A.male,total:null===qe||void 0===qe||null===(E=qe.today)||void 0===E?void 0:E.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"male",count:null===qe||void 0===qe||null===(D=qe.yesterday)||void 0===D?void 0:D.male,total:null===qe||void 0===qe||null===(T=qe.yesterday)||void 0===T?void 0:T.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===qe||void 0===qe||null===(P=qe.week)||void 0===P?void 0:P.male,total:null===qe||void 0===qe||null===(M=qe.week)||void 0===M?void 0:M.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===qe||void 0===qe||null===(w=qe.total)||void 0===w?void 0:w.male,total:null===qe||void 0===qe||null===(k=qe.total)||void 0===k?void 0:k.count,txtDay:"TOTAL",theme:"light"})]})]})}),Je.map((function(e,t){var a,n,o,s,c,r,l,i,d,u,b,j,m,O,x,h,p,v,g,f,S,N,A,E;return Object(y.jsx)(he.c,{children:Object(y.jsxs)("div",{className:"",children:[Object(y.jsxs)("div",{className:"boxGridFour",children:[Object(y.jsx)($,{count:null===e||void 0===e||null===(a=e.today)||void 0===a?void 0:a.count,percent:null===e||void 0===e||null===(n=e.today)||void 0===n?void 0:n.percent}),Object(y.jsx)(te,{theme:"light",count:null===e||void 0===e||null===(o=e.yesterday)||void 0===o?void 0:o.total}),Object(y.jsx)(ae,{theme:"light",count:null===e||void 0===e||null===(s=e.week)||void 0===s?void 0:s.total,percent:null===e||void 0===e||null===(c=e.week)||void 0===c?void 0:c.percent}),Object(y.jsx)(K,{theme:"light",count:null===e||void 0===e||null===(r=e.total)||void 0===r?void 0:r.count})]}),(null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.female)&&Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"female",count:null===e||void 0===e||null===(i=e.today)||void 0===i?void 0:i.female,total:null===e||void 0===e||null===(d=e.today)||void 0===d?void 0:d.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"female",count:null===e||void 0===e||null===(u=e.yesterday)||void 0===u?void 0:u.female,total:null===e||void 0===e||null===(b=e.yesterday)||void 0===b?void 0:b.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===e||void 0===e||null===(j=e.week)||void 0===j?void 0:j.female,total:null===e||void 0===e||null===(m=e.week)||void 0===m?void 0:m.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===e||void 0===e||null===(O=e.total)||void 0===O?void 0:O.female,total:null===e||void 0===e||null===(x=e.total)||void 0===x?void 0:x.count,txtDay:"TOTAL",theme:"light"})]}),(null===e||void 0===e||null===(h=e.total)||void 0===h?void 0:h.male)&&Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"male",count:null===e||void 0===e||null===(p=e.today)||void 0===p?void 0:p.male,total:null===e||void 0===e||null===(v=e.today)||void 0===v?void 0:v.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"male",count:null===e||void 0===e||null===(g=e.yesterday)||void 0===g?void 0:g.male,total:null===e||void 0===e||null===(f=e.yesterday)||void 0===f?void 0:f.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===e||void 0===e||null===(S=e.week)||void 0===S?void 0:S.male,total:null===e||void 0===e||null===(N=e.week)||void 0===N?void 0:N.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===e||void 0===e||null===(A=e.total)||void 0===A?void 0:A.male,total:null===e||void 0===e||null===(E=e.total)||void 0===E?void 0:E.count,txtDay:"TOTAL",theme:"light"})]})]})},t)}))]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[_.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA"}),Object(y.jsxs)("span",{className:"spaceBottom text-center d-block",children:["( ",Ne," - ",Ae," )"]}),Object(y.jsx)($t,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===re||void 0===re?void 0:re.hour," con ",Z(null===re||void 0===re?void 0:re.total)," personas"]}),Object(y.jsx)(at,{})]})]}),Object(y.jsx)(W,{data:_,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Personas:",scltxtlbl:"Cantidad de Personas",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourTotal"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR HORA DEL D\xcdA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Ee," - ",De," )"]}),I.length>0&&Object(y.jsx)(ta,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===le||void 0===le?void 0:le.hour," con ",Z(null===le||void 0===le?void 0:le.total)," personas"]}),I.length>0&&Object(y.jsx)(rt,{})]}),Object(y.jsx)(W,Object(g.a)({data:I,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichourMale"},"id","grafichourMale"))]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Y.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR HORA DEL D\xcdA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Te," - ",Pe," )"]}),Object(y.jsx)(oa,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===ie||void 0===ie?void 0:ie.hour," con ",Z(null===ie||void 0===ie?void 0:ie.total)," personas"]}),Object(y.jsx)(bt,{})]})]}),Object(y.jsx)(W,{data:Y,label:"Total de Mujeres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Mujeres:",scltxtlbl:"Cantidad de Mujeres",scalebg:"#0502D3",id:"grafichourfemale"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Me," - ",we," )"]}),U.length>0&&Object(y.jsx)(ra,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===be||void 0===be?void 0:be.day," con ",Z(null===be||void 0===be?void 0:be.total)," personas"]}),U.length>0&&Object(y.jsx)(ht,{})]}),Object(y.jsx)(ue,{data:U,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",ke," - ",Ce," )"]}),X.length>0&&Object(y.jsx)(da,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===Oe||void 0===Oe?void 0:Oe.day," con ",Z(null===Oe||void 0===Oe?void 0:Oe.total)," personas"]}),X.length>0&&Object(y.jsx)(yt,{})]}),Object(y.jsx)(ue,{data:X,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Hombres",scltxtlbl:"Cantidad de Hombres",id:"graficweekmale"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Re," - ",_e," )"]}),q.length>0&&Object(y.jsx)(ja,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===ve||void 0===ve?void 0:ve.day," con ",Z(null===ve||void 0===ve?void 0:ve.total)," personas"]}),q.length>0&&Object(y.jsx)(Dt,{})]}),Object(y.jsx)(ue,{data:q,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Mujeres",scltxtlbl:"Cantidad de Mujeres",id:"graficweekfemale"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Fe," - ",Ie," )"]}),J.length>0&&Object(y.jsx)(xa,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===ge||void 0===ge?void 0:ge.day," con ",null===ge||void 0===ge?void 0:ge.total," personas"]}),J.length>0&&Object(y.jsx)(kt,{})]}),Object(y.jsx)(W,{data:J,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-yellow",id:"graficmonth"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE HOMBRES POR CADA D\xcdA DEL MES"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Le," - ",He," )"]}),Q.length>0&&Object(y.jsx)(va,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===fe||void 0===fe?void 0:fe.day," con ",null===fe||void 0===fe?void 0:fe.total," personas"]}),Q.length>0&&Object(y.jsx)(It,{})]}),Object(y.jsx)(W,{data:Q,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Hombres",scltxtlbl:"Cantidad de Hombres",id:"graficmonthmale"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE MUJERES POR CADA D\xcdA DEL MES"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Be," - ",ze," )"]}),ne.length>0&&Object(y.jsx)(ya,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===ye||void 0===ye?void 0:ye.day," con ",null===ye||void 0===ye?void 0:ye.total," personas"]}),ne.length>0&&Object(y.jsx)(Gt,{})]}),Object(y.jsx)(W,{data:ne,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",id:"graficmonthfemale"})]}),Object(y.jsxs)("div",{className:"spaceXY  d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE SEMANA ACUMULADO DE PERSONAS POR HORA DEL D\xcdA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Ue," - ",We," )"]}),oe.length>0&&Object(y.jsx)(Aa,{}),Object(y.jsx)(je,{data:oe,range:se})]}),Object(y.jsxs)("div",{className:"spaceXY  d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL ACUMULADO - G\xc9NERO"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Ge," - ",Ye," )"]}),ce.length>0&&Object(y.jsx)(Ta,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsx)("span",{className:"detailMax"}),ce.length>0&&Object(y.jsx)(qt,{})]}),Object(y.jsx)(me,{data:ce,id:"graficAgeRange"})]})]})})},ge=a(61),fe=function(e){var t=e.component,a=e.isAuthenticated,n=Object(ge.a)(e,["component","isAuthenticated"]);return Object(y.jsx)(y.Fragment,{children:a?Object(y.jsx)(l.a,{to:"/"}):Object(y.jsx)(l.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(y.jsx)(t,Object(f.a)({},e))}}))})},ye=function(e){var t=e.component,a=e.isAuthenticated,n=Object(ge.a)(e,["component","isAuthenticated"]);return Object(y.jsx)(y.Fragment,{children:a?Object(y.jsx)(l.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(y.jsx)(t,Object(f.a)({},e))}})):Object(y.jsx)(l.a,{to:"/auth/login"})})},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(Object.keys(e)[0]),a=Object(b.a)(t,2),o=a[0],s=a[1],c=function(){return Object(y.jsx)("div",{className:"groupButtons text-center spaceBottom",children:Object.keys(e).map((function(t,a){return Object(y.jsx)("button",{onClick:function(e){e.target;return s(t)},className:"filterBtn ".concat(t===o?"active":""),children:e[t]},a)}))})};return[c,o,s,e]},Ne=(a(339),function(){return function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,o,s,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.groups,o=n.filter((function(e){return e.code===x.groupName}))[0].id,e.next=4,O("/resources/tracking?group_id=".concat(o));case 4:return e.next=6,e.sent.json();case 6:s=e.sent,c=s.resources,r=s.hours,t(Ae({resources:c,hours:r}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),Ae=function(e){return{type:x.initialDataTrazabilidad,payload:e}},Ee=function(e){return{type:x.changeTrazabilidadByHour,payload:e}},De=function(e){e.location;var t=Object(N.b)(),a=Object(n.useState)([]),o=Object(b.a)(a,2),s=(o[0],o[1],Object(N.c)((function(e){return e.trazabilidad}))),c=s.resources,r=s.hours,l=Se({todos:"TODOS",CCPN001:"T\xd3TEM 1",CCPN002:"T\xd3TEM 2",CCPN003:"PANISTER\xcdA"}),i=Object(b.a)(l,4),d=i[0],u=i[1],j=(i[2],i[3],Se({todos:"TODOS",cliente:"CLIENTES",visitantes:"VISITANTES"})),m=Object(b.a)(j,3),O=(m[0],m[1],m[2],Se({todos:"TODOS",d7:"07 D\xcdAS",d15:"15 D\xcdAS",d30:"30 D\xcdAS"})),x=Object(b.a)(O,3),h=(x[0],x[1],x[2],Se({total:"TODOS",male:"HOMBRES",female:"MUJERES"})),p=Object(b.a)(h,3),v=p[0],g=p[1],f=p[2],S=Object(n.useState)(!0),A=Object(b.a)(S,2),E=A[0],D=A[1],T=Object(n.useState)(null),P=Object(b.a)(T,2),M=P[0],w=P[1],k=Object(n.useState)({agestart:"",ageend:"",all:!0}),C=Object(b.a)(k,2),R=(C[0],C[1],Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)({timestart:"",timeend:"",all:!0})),_=Object(b.a)(R,2),F=(_[0],_[1],Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)([])),I=Object(b.a)(F,2),L=I[0],H=I[1],B=Object(n.useState)(0),z=Object(b.a)(B,2),G=z[0],Y=z[1],U=Object(n.useState)(""),W=Object(b.a)(U,2),X=W[0],q=W[1];Object(n.useEffect)((function(){t(Ne())}),[]),Object(n.useEffect)((function(){var e=new Array(24).fill(0).map((function(e,t){return t}));H(e)}),[]),Object(n.useEffect)((function(){var e=document.querySelector("#sec_genero .groupButtons button:nth-child(2)"),t=document.querySelector("#sec_genero .groupButtons button:nth-child(3)");"CCPN003"===u?(f("total"),e.classList.add("hide"),t.classList.add("hide")):(e.classList.remove("hide"),t.classList.remove("hide")),function(e){var t;0===(t=e.filter((function(e){return e.name===u}))).length&&(t=e);var a=document.getElementById("monitoreoComercio"),n=a.getContext("2d");n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,a.width,a.height),t.forEach((function(e){n.beginPath(),n.arc(e.x,e.y,e.ratio+40,0,2*Math.PI,!1),n.fillStyle=e.color,n.fill(),n.font="13px Arial",n.fillStyle="#FFF",n.fillText(e[g],e.labelX,e.labelY)}))}(c)}),[c,,g,u]);var J=function e(a){if(!E)return clearTimeout(M),!1;if(a>=24)return Y(0),D(!0),D(!0),clearTimeout(M),!1;var n=setTimeout((function(){q((function(e){return a})),function(e){var a=r.filter((function(t){return t.hour===e}));t(Ee(a[0].resources))}(a),Y((function(e){return a+1})),e(a+1)}),1e3);w(n)};return Object(y.jsxs)(V,{children:[Object(y.jsx)("h3",{className:"subTitle spaceTop",children:"TRAZABILIDAD DE USUARIOS EN COMERCIO"}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext spaceTop",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione equipo:"}),Object(y.jsx)(d,{})]}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",id:"sec_genero",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione G\xe9nero:"}),Object(y.jsx)(v,{})]}),Object(y.jsxs)("div",{className:"d-grid-report spaceTopSmall  content-btntext",children:[Object(y.jsx)("p",{className:"text-report"}),Object(y.jsx)("button",{className:"filterBtn w-fit ",onClick:function(){J(24),q(""),Y(0),D(!0),t(Ne())},children:"TODAS LAS HORAS"})]}),Object(y.jsxs)("div",{className:"d-grid-report spaceTopSmall  content-btntext",children:[Object(y.jsx)("p",{className:"text-report"}),Object(y.jsx)("div",{className:"listhour",children:L.map((function(e,a){return Object(y.jsx)("span",{onClick:function(){return function(e){q(e),Y(e),D(!0);var a=r.filter((function(t){return t.hour===e}));t(Ee(a[0].resources))}(e)},className:"listhour__item ".concat(Number(e)===X?"active":""),children:e},e)}))})]}),Object(y.jsxs)("div",{className:"contentcanvas spaceTop",children:[Object(y.jsx)("canvas",{style:{backgroundImage:"url(/assets/images/planoflujo.jpg)"},className:"mt",id:"monitoreoComercio",width:"1024",height:"556"}),Object(y.jsx)("div",{className:"contencanvas__play",children:Object(y.jsx)("img",{className:"contencanvas__btn",onClick:function(){J(G),D(!E)},src:"/assets/icons/play.svg",alt:"imgButton"})})]})]})},Te=a(25),Pe=a(19),Me=a(127),we=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n,o,s,c){var r,l,i,u,b,j,m,O=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.length>6&&void 0!==O[6]?O[6]:0,l="",i=document.getElementById(t),u=new Te.a("l","pt"),(b=new Image).src="./assets/images/pdf/logoleft.png",u.addImage(b,"png",30,10,100,20),(j=new Image).src="./assets/images/pdf/logorigth.png",u.addImage(j,"png",750,13,65,15),u.setFontSize(18),u.text(280,90,o),u.setFontSize(9),u.text(650,140,"Rango: ".concat(a," - ").concat(n)),u.setFontSize(9),u.text(50,140,s),e.next=18,Object(Pe.a)(i).then((function(e){return l=e}));case 18:u.addImage(l,"jpg",120,180,600,350),u.setFontSize(9),u.text(50,570,"Reporte generado ".concat(Object(M.a)(new Date,"yyyy-MM-dd HH:mm:ss")," PE.CCPN.01")),u.setFontSize(9),m="Acumulado",1===Number(r)?m="totem 1":2===Number(r)&&(m="totem 2"),u.text(650,570,"Tipo de totem: ".concat(m)),u.save("DSP-SODA-PE.CCPN.01-".concat(a,"-").concat(n,"-").concat(o.replace(/\s/g,"-"),".pdf.pdf"));case 26:case"end":return e.stop()}}),e)})));return function(t,a,n,o,s,c){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n,o){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/export",{type:t,format:"csv",interval:a,date_from:n,date_to:o},"POST");case 2:return s=e.sent,e.next=5,s.blob();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}(),Ce=function(e,t,a,n){ke("p",e,t,a).then((function(e){return Object(Me.saveAs)(e,"DSP-SODA-CO-PMXCO-BOG-A01-".concat(t,"-").concat(a,"-TOTAL-").concat(n,".csv"))}))},Re=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n,o,s){var c,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",r=document.getElementById(t),l=document.createElement("a"),e.next=5,Object(Pe.a)(r).then((function(e){return c=e}));case 5:O("/upload-image",{data:{user_id:"704",type:o,interval:s,date_from:a,date_to:n,image:c}},"POST").then((function(e){return e.json()})).then((function(e){l.setAttribute("target","__blank"),l.href=e.url,l.click()}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,o,s){return e.apply(this,arguments)}}(),_e=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.person})),a=t.hoursPersonTotal,o=t.hoursPersonMale,s=t.hoursPersonFemale,c=t.weekPersonTotal,r=t.weekPersonMale,l=t.weekPersonFemale,i=t.rangePersonAges,d=t.maxHourPerson,u=t.maxHourPersonMale,j=t.maxHourPersonFemale,m=t.maxWeekPerson,O=t.maxWeekPersonMale,x=t.maxWeekPersonFemale,h=de(L,"","total","dateStartHourPerson","dateEndHourPerson",""),p=Object(b.a)(h,5),v=p[0],g=p[1],f=p[2],S=(p[3],p[4],de(L,"","male","dateStartHourMalePerson","dateEndHourMalePerson","")),A=Object(b.a)(S,5),E=A[0],D=A[1],T=A[2],P=(A[3],A[4],de(L,"","female","dateStartHourFemalePerson","dateEndHourFemalePerson","")),w=Object(b.a)(P,5),k=w[0],C=w[1],R=w[2],_=(w[3],w[4],de(H,"","total","dateStartWeekPerson","dateEndWeekPerson","")),I=Object(b.a)(_,5),B=I[0],z=I[1],Y=I[2],U=(I[3],I[4],de(H,"","male","dateStartWeekMalePerson","dateEndWeekMalePerson","")),X=Object(b.a)(U,5),q=X[0],J=X[1],V=X[2],Q=(X[3],X[4],de(H,"","female","dateStartWeekFemalePerson","dateEndWeekFemalePerson","")),K=Object(b.a)(Q,5),ne=K[0],oe=K[1],se=K[2],ce=(K[3],K[4],de(G,"","total","dateStartAgePerson","dateEndAgePerson","")),re=Object(b.a)(ce,5),le=re[0],ie=re[1],ue=re[2];re[3],re[4];Object(n.useEffect)((function(){e(F())}),[e]);return Object(y.jsxs)("div",{id:"mobileversion",children:[Object(y.jsxs)("header",{children:[Object(y.jsxs)("div",{className:"headerTop d-flex auth",children:[Object(y.jsx)("img",{className:"imgSmall",src:"/assets/images/header/onlysoda.png",alt:"logosoda"}),Object(y.jsxs)("h1",{className:"titleHeadAuth",children:["data ",Object(y.jsx)("br",{}),"street ",Object(y.jsx)("br",{}),"performance"]})]}),Object(y.jsx)("div",{className:"w-100 text-center logoMiddle",children:Object(y.jsx)("img",{src:"./assets/images/header/soda.png",alt:"logosoda"})})]}),Object(y.jsx)("div",{className:"codecontent",children:Object(y.jsx)("span",{className:"code",children:"PE.CCPN.01"})}),Object(y.jsxs)("div",{className:"actionButtons",children:[Object(y.jsx)("div",{className:"grid-2",children:Object(y.jsxs)("button",{className:"active",children:[Object(y.jsx)("img",{src:"./assets/icons/mobile/person-mobile.svg",alt:"person"}),Object(y.jsx)("span",{children:"Personas"})]})}),Object(y.jsxs)("div",{className:"grid-2",children:[Object(y.jsxs)("button",{children:[Object(y.jsx)("img",{src:"./assets/icons/mobile/calendar-mobile.png",alt:"calendar"}),Object(y.jsx)("span",{children:"Tiempo Real"})]}),Object(y.jsxs)("button",{onClick:function(){window.location.reload()},children:[Object(y.jsx)("img",{src:"./assets/icons/mobile/calendar-mobile.png",alt:"calendar"}),Object(y.jsx)("span",{children:"Actualizar"})]})]})]}),Object(y.jsx)("div",{className:"codecontent",children:Object(y.jsx)("span",{className:"code",children:"PERSONAS"})}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)($,{count:45,percent:0}),Object(y.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(y.jsx)(ee,{count:4,total:100}),Object(y.jsx)(ee,{count:4,total:100})]})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY ",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===d||void 0===d?void 0:d.hour," con ",Z(null===d||void 0===d?void 0:d.total)," personas"]}),a.length>0&&Object(y.jsx)(v,{})]}),Object(y.jsx)(W,{data:a,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Personas:",scltxtlbl:"Cantidad de Personas",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourTotal"}),Object(y.jsx)("div",{className:"btnExportsGraphics",children:Object(y.jsx)("button",{onClick:function(){return Re("grafichourTotal",Object(M.a)(g,"yyyy-MM-dd"),Object(M.a)(f,"yyyy-MM-dd"),"hour","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR HORA DEL D\xcdA"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY ",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===u||void 0===u?void 0:u.hour," con ",Z(null===u||void 0===u?void 0:u.total)," personas"]}),o.length>0&&Object(y.jsx)(E,{})]}),Object(y.jsx)(W,{data:o,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourMale"}),Object(y.jsx)("div",{className:"btnExportsGraphics",children:Object(y.jsx)("button",{onClick:function(){return Re("grafichourMale",Object(M.a)(D,"yyyy-MM-dd"),Object(M.a)(T,"yyyy-MM-dd"),"hour","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR HORA DEL D\xcdA"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===j||void 0===j?void 0:j.hour," con ",Z(null===j||void 0===j?void 0:j.total)," personas"]}),s.length>0&&Object(y.jsx)(k,{})]}),Object(y.jsx)(W,{data:s,label:"Total de Mujeres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Mujeres:",scltxtlbl:"Cantidad de Mujeres",scalebg:"#0502D3",id:"grafichourfemale"}),Object(y.jsx)("div",{className:"btnExportsGraphics",children:s.length>0&&Object(y.jsx)("button",{onClick:function(){return Re("grafichourfemale",C,R,"hour","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)(te,{count:45,percent:0}),Object(y.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(y.jsx)(ee,{count:4,total:100}),Object(y.jsx)(ee,{count:4,total:100})]})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile",children:[Object(y.jsx)(ae,{count:45,percent:0}),Object(y.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(y.jsx)(ee,{count:4,total:100}),Object(y.jsx)(ee,{count:4,total:100})]})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===m||void 0===m?void 0:m.day," con ",Z(null===m||void 0===m?void 0:m.total)," personas"]}),c.length>0&&Object(y.jsx)(B,{})]}),Object(y.jsx)(W,{data:c,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"}),Object(y.jsx)("div",{className:"btnExportsGraphics",children:c.length>0&&Object(y.jsx)("button",{onClick:function(){return Re("graficweek",z,Y,"week","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===O||void 0===O?void 0:O.day," con ",Z(null===O||void 0===O?void 0:O.total)," personas"]}),r.length>0&&Object(y.jsx)(q,{})]}),Object(y.jsx)(W,{data:r,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Hombres",scltxtlbl:"Cantidad de Hombres",id:"graficweekmale"}),Object(y.jsx)("div",{className:"btnExportsGraphics",children:r.length>0&&Object(y.jsx)("button",{onClick:function(){return Re("graficweekmale",J,V,"week","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===x||void 0===x?void 0:x.day," con ",Z(null===x||void 0===x?void 0:x.total)," personas"]}),l.length>0&&Object(y.jsx)(ne,{})]}),Object(y.jsx)(W,{data:l,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Mujeres",scltxtlbl:"Cantidad de Mujeres",id:"graficweekfemale"}),Object(y.jsx)("div",{className:"btnExportsGraphics",children:l.length>0&&Object(y.jsx)("button",{onClick:function(){return Re("graficweekfemale",oe,se,"week","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(y.jsx)($,{count:45,percent:0}),Object(y.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(y.jsx)(ee,{count:4,total:100}),Object(y.jsx)(ee,{count:4,total:100})]})]}),Object(y.jsxs)("div",{className:"spaceXY fitmobile",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL ACUMULADO - G\xc9NERO"}),Object(y.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(y.jsx)("span",{className:"detailMax"}),i.length>0&&Object(y.jsx)(le,{})]}),Object(y.jsxs)("div",{className:"btnExportsGraphics",children:[Object(y.jsx)(me,{data:i,id:"graficAgeRange"}),i.length>0&&Object(y.jsx)("button",{onClick:function(){return Re("graficAgeRange",ie,ue,"age","P")},children:Object(y.jsx)("img",{src:"./assets/icons/share.svg"})})]})]})]})},Fe=a(128);Object.filter=function(e,t){return Object.keys(e).filter((function(a){return t(e[a])})).reduce((function(t,a){return Object.assign(t,Object(g.a)({},a,e[a]))}),{})};var Ie=function(e){e.location;var t=e.history,a=Se({c:"COMERCIAL",e:"EJECUTIVO"}),o=Object(b.a)(a,3),s=o[0],c=o[1],r=(o[2],Se({todos:"TODOS",CCPN001:"T\xd3TEM 1",CCPN002:"T\xd3TEM 2",CCPN003:"PANISTER\xcdA"})),l=Object(b.a)(r,4),i=l[0],j=l[1],m=(l[2],l[3]),O=Se({todos:"TODOS",d7:"07 D\xcdAS",d15:"15 D\xcdAS",d30:"30 D\xcdAS"}),x=Object(b.a)(O,3),h=x[0],p=x[1],v=(x[2],Se({todos:"TODOS",cliente:"CLIENTES",visitantes:"VISITANTES"})),g=Object(b.a)(v,3),f=(g[0],g[1]),S=g[2],N=Se({todos:"TODOS",male:"HOMBRES",female:"MUJERES"}),A=Object(b.a)(N,3),E=A[0],T=A[1],P=A[2],k=function(){var e=Object(n.useState)(new Date("2020-12-19")),t=Object(b.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(new Date),c=Object(b.a)(s,2),r=c[0],l=c[1],i=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"numeric"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(r),c=new Intl.DateTimeFormat("en",{month:"numeric"}).format(r),l=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(r);if(Object(ce.a)(new Date(t,a,n),new Date(s,c,l))||Object(re.a)(new Date(t,a,n),new Date(s,c,l)))return D.a.fire("Error","La fecha Inicio debe ser menor que la fecha de fin","error");o(e)},d=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),n=new Intl.DateTimeFormat("en",{month:"numeric"}).format(a),o=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),c=new Intl.DateTimeFormat("en",{month:"numeric"}).format(e),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);if(Object(le.a)(new Date(s,c,r),new Date(t,n,o))||Object(re.a)(new Date(t,n,o),new Date(s,c,r)))return D.a.fire("Error","La fecha fin debe ser mayor que la fecha de inicio","error");l(e)};return[function(){return Object(y.jsxs)("div",{className:"filterDate",children:[Object(y.jsxs)("div",{className:"date",children:[Object(y.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(y.jsx)(oe.a,{selected:a,onChange:i,format:"yyyy-MM-dd",maxDate:new Date})]}),Object(y.jsxs)("div",{className:"date",children:[Object(y.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(y.jsx)(oe.a,{selected:r,onChange:d,format:"yyyy-MM-dd",maxDate:new Date})]})]})},a,r]}(),C=Object(b.a)(k,3),R=C[0],_=C[1],F=C[2],I=Object(n.useState)({agestart:"",ageend:"",all:!0}),L=Object(b.a)(I,2),H=L[0],B=L[1],z=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)({timestart:"",timeend:"",all:!0})),G=Object(b.a)(z,2),Y=G[0],U=G[1],W=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)(!1)),X=Object(b.a)(W,2),q=X[0],J=X[1],Z=function(){var e=Object(u.a)(d.a.mark((function e(){var a,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=24;break}if(!1!==H.all||""!=H.agestart){e.next=3;break}return e.abrupt("return",D.a.fire("Error","El campo de inicio de edad no puedo estar vacio","error"));case 3:if(0!=H.all||""!==H.ageend){e.next=5;break}return e.abrupt("return",D.a.fire("Error","El campo de fin de edad no puedo estar vacio","error"));case 5:if(!1!==Y.all||""!=Y.timestart){e.next=7;break}return e.abrupt("return",D.a.fire("Error","El campo de inicio de hora no puedo estar vacio","error"));case 7:if(0!=Y.all||""!==Y.timeend){e.next=9;break}return e.abrupt("return",D.a.fire("Error","El campo de fin de hora no puedo estar vacio","error"));case 9:if(!(!1===H.all&&Number(H.agestart)>Number(H.ageend))){e.next=11;break}return e.abrupt("return",D.a.fire("Error","El campo de inicio de edad no puedo ser mayor a la edad de fin","error"));case 11:if(!(!1===Y.all&&Number(Y.timestart)>=24)){e.next=13;break}return e.abrupt("return",D.a.fire("Error","El formato debe de ser 24H","error"));case 13:if(!(!1===Y.all&&Number(Y.timeend)>=24)){e.next=15;break}return e.abrupt("return",D.a.fire("Error","El formato debe de ser 24H","error"));case 15:if(!(!1===Y.all&&Number(Y.timestart)>=Number(Y.timeend))){e.next=17;break}return e.abrupt("return",D.a.fire("Error","El campo de inicio de hora no puedo ser mayor a la hora de fin","error"));case 17:Y.timestart,Y.timeend,1===Y.timestart.length&&0+Y.timestart,1===Y.timestart.length&&0+Y.timeend,a={contact_type:f,report_type:c,resource:m[j].toLowerCase(),gender:"todos"===T?"total":T,date_from:Object(M.a)(_,"yyyy-MM-dd"),date_to:Object(M.a)(F,"yyyy-MM-dd"),age_from:H.agestart,age_to:H.ageend,time_from:Y.timestart,time_to:Y.timeend},e.next=25;break;case 24:"todos"===p?a={report_type:c,resource:j,date_from:"2020-12-02",date_to:Object(M.a)(new Date,"yyyy-MM-dd"),time_from:"2020-12-02%00:00",time_to:"".concat(Object(M.a)(new Date,"yyyy-MM-dd"),"%00:00"),gender:"total"}:(n=Object(w.a)(new Date,Number(p.replace("d",""))),a={report_type:c,resource:m[j].toLowerCase(),date_from:Object(M.a)(n,"yyyy-MM-dd"),date_to:Object(M.a)(new Date,"yyyy-MM-dd"),time_from:"".concat(Object(M.a)(n,"yyyy-MM-dd"),"%00:00"),time_to:"".concat(Object(M.a)(new Date,"yyyy-MM-dd"),"%00:00"),gender:"total"});case 25:if(o=Object.filter(a,(function(e){return"todos"!==e&&""!==e})),"c"!==c){e.next=28;break}return e.abrupt("return",t.push("/reportes-screen/comercial",o));case 28:t.push("/reportes-screen/ejecutivo",o);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){var e=document.querySelector("#sec_genero");q&&("CCPN003"===j?(P("todos"),setTimeout((function(){e.querySelector(".groupButtons button:nth-child(2)").classList.add("hide"),e.querySelector(".groupButtons button:nth-child(3)").classList.add("hide")}),10)):console.log("no dio en el sensor no se ocultara los botones"))}()}),[q,j,c]),Object(y.jsxs)(V,{children:[Object(y.jsx)("h3",{className:"subTitle spaceXY",children:"GENERA TU REPORTE"}),Object(y.jsx)("h3",{className:"subTitle color-secundary",children:"REPORTE GENERAL"}),Object(y.jsxs)("div",{className:"d-grid-report spaceTop content-btntext",children:[Object(y.jsxs)("p",{className:"text-report",children:["Seleccione tipo de",Object(y.jsx)("br",{})," reporte:"]}),Object(y.jsx)(s,{})]}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione equipo:"}),Object(y.jsx)(i,{})]}),!q&&Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione Periodo:"}),Object(y.jsx)(h,{})]}),Object(y.jsxs)("div",{className:"groupButtons text-center spaceTop",children:[Object(y.jsx)("button",{onClick:function(){S("todos"),P("todos"),B({all:!0,ageend:"",agestart:""}),U({all:!0,timestart:"",timeend:""}),J(!q)},className:"filterBtn",children:"ESPECIFICO"}),!q&&Object(y.jsx)("button",{onClick:Z,className:"filterBtn",children:"GENERAR"})]}),q&&Object(y.jsxs)("div",{id:"contentEspec",children:[Object(y.jsx)("h3",{className:"subTitle color-secundary spaceXY",children:"REPORTE ESPECIFICO"}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",id:"sec_genero",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione G\xe9nero:"}),Object(y.jsx)(E,{})]}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione una Fecha:"}),Object(y.jsx)(R,{})]}),q&&Object(y.jsx)("div",{className:"spaceBottomSmall text-center",children:Object(y.jsx)("button",{onClick:Z,className:"filterBtn  ",children:"GENERAR"})})]})]})},Le=function(){var e=Se({todos:"TODOS",toten1:"T\xd3TEM 1",toten2:"T\xd3TEM 2"}),t=Object(b.a)(e,3),a=t[0],o=(t[1],t[2],Se({todos:"TODOS",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"})),s=Object(b.a)(o,3),c=s[0],r=(s[1],s[2],Object(n.useState)(!1)),l=Object(b.a)(r,2),i=l[0],d=l[1];return Object(y.jsxs)(V,{children:[Object(y.jsx)("h3",{className:"subTitle spaceXY",children:"REPORTE OPERACIONAL"}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione equipo:"}),Object(y.jsx)(a,{})]}),Object(y.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(y.jsx)("p",{className:"text-report",children:"Seleccione Periodo:"}),Object(y.jsx)(c,{})]}),Object(y.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(y.jsx)("button",{className:"filterBtn",children:"GENERAR"})}),Object(y.jsx)("div",{id:"exportTable",className:"contentTableSensor ",children:Object(y.jsxs)("table",{id:"sensoresTable",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{}),Object(y.jsx)("th",{children:"DOM"}),Object(y.jsx)("th",{children:"LUN"}),Object(y.jsx)("th",{children:"MAR"}),Object(y.jsx)("th",{children:"MI\xc9"}),Object(y.jsx)("th",{children:"JUE"}),Object(y.jsx)("th",{children:"VIE"}),Object(y.jsx)("th",{children:"S\xc1B"})]})}),Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"TOTEM 1"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"TOTEM 2"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"}),Object(y.jsx)("td",{children:"Activo"})]})]})]})}),Object(y.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(y.jsx)("button",{onClick:function(){var e=document.querySelector("#exportTable");d(!0),Object(Pe.a)(e).then((function(e){var t=new Te.a("l","pt"),a=new Image;a.src="/assets/images/pdf/logoleft.png";var n=new Image;n.src="/assets/images/pdf/logorigth.png",t.addImage(a,"png",30,10,100,20),t.addImage(n,"png",750,13,65,15),t.setFontSize(14),t.setTextColor("0502D3"),t.text(30,80,"REPORTE OPERACIONAL"),t.setFontSize(12),t.setTextColor("262626"),t.text(30,100,"ULTIMOS 7 D\xcdAS"),t.setFontSize(12),t.setTextColor("0502D3"),t.text(30,160,"STATUS DE DISPOSITIVOS"),t.setFontSize(9),t.setTextColor("0502D3"),t.text(30,200,"HORA M\xc1S TRANSITADA: 23H CON 6740 PERSONAS"),t.setFontSize(9),t.setTextColor("424242"),t.text(680,200,"RANGO:23/01/2021-26/01/2021"),t.addImage(e,10,200,830,250),t.setFontSize(9),t.setTextColor("424242"),t.text(30,460,"Reporte generado el 26/01/2021 - 19:43hrs/PE.CCPN.01"),t.setFontSize(9),t.setTextColor("424242"),t.text(680,460,"Tipo de t\xf3tem: t\xf3tem acumulado"),t.save("DSP-SODA-CCPN-PE-A01-20210216-20210223-REPORTE-OPERACIONAL.pdf"),d(!1)}))},className:"filterBtn active",children:i?"CARGANDO...":"GENERAR REPORTE"})})]})},He=a(352),Be=function(e){var t,a,o,s,c,r,l,i,j,m,x,h,p,v,S,N,A,E,D,T,P,w,k,C,R,_,F,I,L,H,B,z,G,Y,U,X,q,J,Q,ne,oe,se,ce,re,le,ie,de,be,je,me,Oe,xe,he,pe,ve,ge=e.location,fe=e.history,ye=Object(n.useState)({hours:[],week:[],month:[],progress:[]}),Se=Object(b.a)(ye,2),Ne=Se[0],Ae=Se[1],Ee=Object(n.useState)(!1),De=Object(b.a)(Ee,2),Me=De[0],we=De[1],ke=Object(n.useState)("PERSONAS"),Ce=Object(b.a)(ke,2),Re=Ce[0],_e=Ce[1],Fe=Object(n.useState)("7"),Ie=Object(b.a)(Fe,2),Le=Ie[0],Be=Ie[1];Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,a,n,o,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ge.state||fe.push("/reportes/especifico"),console.log(ge.state),Be(Object(He.a)(new Date(ge.state.date_to),new Date(ge.state.date_from))),t="?",Object.keys(ge.state).forEach((function(e){return t+="".concat(e,"=").concat(ge.state[e],"&")})),t=t.substring(0,t.length-1),e.next=8,O("/reports/specific".concat(t));case 8:return e.next=10,e.sent.json();case 10:a=e.sent,n=a.hours.map((function(e){return{label:e.time,x:e.hour,y:e[ge.state.gender]}})),o=a.week.map((function(e){return{label:e.dow,x:e.dow,y:e[ge.state.gender]}})),s=a.month.map((function(e){return{label:e.day,x:e.day,y:e[ge.state.gender]}})),c="total"===ge.state.gender?a.progress:a.progress.filter((function(e){return e.name===ge.state.gender||"total"===e.name})),"male"===ge.state.gender&&_e("HOMBRES"),"female"===ge.state.gender&&_e("MUJERES"),c=c.map((function(e){return"male"===e.name&&(e.name="HOMBRES"),"female"===e.name&&(e.name="MUJERES"),"total"===e.name&&(e.name="TOTAL"),e})),Ae(Object(f.a)(Object(f.a)({},a),{},{progress:c,hours:n,week:o,month:s}));case 19:case"end":return e.stop()}}),e)})))()}),[]);var ze=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n,o,s,c,r,l,i,u,b,j,m,O,x,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=document.getElementById("exportGrilla"),s=document.querySelector("#grafichour"),c=document.querySelector("#graficweek"),r=document.querySelector("#graficmonth"),l="",i="",u="",b="",we(!0),e.next=11,Object(Pe.a)(o).then((function(e){return l=e}));case 11:return e.next=13,Object(Pe.a)(s).then((function(e){return i=e}));case 13:return e.next=15,Object(Pe.a)(c).then((function(e){return u=e}));case 15:return e.next=17,Object(Pe.a)(r).then((function(e){return b=e}));case 17:j=new Te.a("p","pt"),(m=new Image).src="/assets/images/pdf/logoleft.png",(O=new Image).src="/assets/images/pdf/logorigth.png",j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(9),j.setTextColor(10,24,241),j.text(30,60,"REPORTE COMERCIAL"),j.setFontSize(9),j.setTextColor("black"),j.text(30,80,"ULTIMOS ".concat(Le," DIAS")),j.addImage(l,"jpg",60,90,480,280),j.setFontSize(11),j.setTextColor("262626"),j.text(170,430,"TOTAL DE ".concat("total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR HORA DEL D\xcdA DE AYER")),j.setFontSize(9),j.setTextColor("0502D3"),j.text(30,480,"HORA M\xc1S TRANSITADA: ".concat(Ne.max_hour.hour," CON ").concat(Z(null===Ne||void 0===Ne||null===(t=Ne.max_hour)||void 0===t?void 0:t.total)," PERSONAS")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,480,"RANGO:".concat(ge.state.date_from," - ").concat(ge.state.date_to)),j.addImage(i,"jpg",80,490,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,760,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,760,"Tipo de t\xf3tem:  ".concat(ge.state.resource?ge.state.resource:"t\xf3tem acumulado")),j.addPage(),j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(11),j.setTextColor("262626"),j.text(170,90,"TOTAL DE ".concat("total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR D\xcdA DE LA SEMANA")),j.setFontSize(9),j.setTextColor("black"),j.text(30,140,"D\xcdA DE LA SEMANA M\xc1S TRANSITADO: ".concat(Ne.max_week_day.day," CON ").concat(Z(null===Ne||void 0===Ne||null===(a=Ne.max_week_day)||void 0===a?void 0:a.total)," PERSONAS")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,140,"RANGO:".concat(ge.state.date_from," - ").concat(ge.state.date_to)),j.addImage(u,"jpg",80,150,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,420,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,420,"Tipo de t\xf3tem:  ".concat(ge.state.resource?ge.state.resource:"t\xf3tem acumulado")),j.setFontSize(11),j.setTextColor("black"),j.text(170,480,"ACUMULADO DE ".concat("total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR CADA D\xcdA DEL MES")),j.setFontSize(9),j.setTextColor("black"),j.text(30,530,"D\xcdA DEL MES MAS TRANSITADO: ".concat(Ne.max_month_day.day," CON ").concat(Z(null===Ne||void 0===Ne||null===(n=Ne.max_month_day)||void 0===n?void 0:n.total)," PERSONAS")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,530,"RANGO:".concat(ge.state.date_from," - ").concat(ge.state.date_to)),j.addImage(b,"jpg",80,540,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,810,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,810,"Tipo de t\xf3tem:  ".concat(ge.state.resource?ge.state.resource:"t\xf3tem acumulado")),x=j.output("blob"),(h=new FormData).append("file",x),h.append("name","DSP-SODA-CCPN-PE-A01-".concat(ge.state.date_from.replaceAll("-",""),"-").concat(ge.state.date_to.replaceAll("-",""),"-REPORTE-COMERICAL.pdf")),j.save("DSP-SODA-CCPN-PE-A01-".concat(ge.state.date_from.replaceAll("-",""),"-").concat(ge.state.date_to.replaceAll("-",""),"-REPORTE-COMERICAL.pdf")),we(!1);case 88:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(V,{children:Object(y.jsxs)("div",{className:"contenedor",children:[Object(y.jsx)("h3",{className:"subTitle spaceTop",children:"REPORTE COMERCIAL"}),Object(y.jsxs)("h3",{className:"subTitle spaceTopSmall color-secundary",children:["ULTIMOS ",Le," D\xcdAS"]}),Object(y.jsxs)("div",{className:"spaceXY",id:"exportGrilla",children:[Object(y.jsxs)("div",{className:"boxGridFour",children:[Object(y.jsx)($,{count:null===Ne||void 0===Ne||null===(t=Ne.boxes)||void 0===t||null===(a=t.today)||void 0===a?void 0:a.count,percent:null===Ne||void 0===Ne||null===(o=Ne.boxes)||void 0===o||null===(s=o.today)||void 0===s?void 0:s.percent}),Object(y.jsx)(te,{theme:"light",count:null===Ne||void 0===Ne||null===(c=Ne.boxes)||void 0===c||null===(r=c.yesterday)||void 0===r?void 0:r.total}),Object(y.jsx)(ae,{theme:"light",count:null===Ne||void 0===Ne||null===(l=Ne.boxes)||void 0===l||null===(i=l.week)||void 0===i?void 0:i.total,percent:null===Ne||void 0===Ne||null===(j=Ne.boxes)||void 0===j||null===(m=j.week)||void 0===m?void 0:m.percent}),Object(y.jsx)(K,{theme:"light",count:null===Ne||void 0===Ne||null===(x=Ne.boxes)||void 0===x||null===(h=x.total)||void 0===h?void 0:h.count})]}),("total"==(null===(p=ge.state)||void 0===p?void 0:p.gender)||"male"==(null===(v=ge.state)||void 0===v?void 0:v.gender))&&Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"male",count:null===Ne||void 0===Ne||null===(S=Ne.boxes)||void 0===S||null===(N=S.today)||void 0===N?void 0:N.male,total:null===Ne||void 0===Ne||null===(A=Ne.boxes)||void 0===A||null===(E=A.today)||void 0===E?void 0:E.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"male",count:null===Ne||void 0===Ne||null===(D=Ne.boxes)||void 0===D||null===(T=D.yesterday)||void 0===T?void 0:T.male,total:null===Ne||void 0===Ne||null===(P=Ne.boxes)||void 0===P||null===(w=P.yesterday)||void 0===w?void 0:w.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===Ne||void 0===Ne||null===(k=Ne.boxes)||void 0===k||null===(C=k.week)||void 0===C?void 0:C.male,total:null===Ne||void 0===Ne||null===(R=Ne.boxes)||void 0===R||null===(_=R.week)||void 0===_?void 0:_.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===Ne||void 0===Ne||null===(F=Ne.boxes)||void 0===F||null===(I=F.total)||void 0===I?void 0:I.male,total:null===Ne||void 0===Ne||null===(L=Ne.boxes)||void 0===L||null===(H=L.total)||void 0===H?void 0:H.count,txtDay:"TOTAL",theme:"light"})]}),("total"==(null===(B=ge.state)||void 0===B?void 0:B.gender)||"female"==(null===(z=ge.state)||void 0===z?void 0:z.gender))&&Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"female",count:null===Ne||void 0===Ne||null===(G=Ne.boxes)||void 0===G||null===(Y=G.today)||void 0===Y?void 0:Y.female,total:null===Ne||void 0===Ne||null===(U=Ne.boxes)||void 0===U||null===(X=U.today)||void 0===X?void 0:X.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"female",count:null===Ne||void 0===Ne||null===(q=Ne.boxes)||void 0===q||null===(J=q.yesterday)||void 0===J?void 0:J.female,total:null===Ne||void 0===Ne||null===(Q=Ne.boxes)||void 0===Q||null===(ne=Q.yesterday)||void 0===ne?void 0:ne.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===Ne||void 0===Ne||null===(oe=Ne.boxes)||void 0===oe||null===(se=oe.week)||void 0===se?void 0:se.female,total:null===Ne||void 0===Ne||null===(ce=Ne.boxes)||void 0===ce||null===(re=ce.week)||void 0===re?void 0:re.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===Ne||void 0===Ne||null===(le=Ne.boxes)||void 0===le||null===(ie=le.total)||void 0===ie?void 0:ie.female,total:null===Ne||void 0===Ne||null===(de=Ne.boxes)||void 0===de||null===(be=de.total)||void 0===be?void 0:be.count,txtDay:"TOTAL",theme:"light"})]})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL DE ","total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR HORA DEL D\xcdA DE AYER"]}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===(je=Ne.max_hour)||void 0===je?void 0:je.hour," con ",null===(me=Ne.max_hour)||void 0===me?void 0:me.total," personas"]}),Object(y.jsxs)("span",{className:"detailMax",children:["RANGO:",ge.state.date_from," - ",ge.state.date_to]})]}),Object(y.jsx)(W,(Oe={data:Ne.hours,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichourMale"},Object(g.a)(Oe,"id","grafichour"),Object(g.a)(Oe,"theme","bg-yellow"),Oe))]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL DE ","total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR D\xcdA DE LA SEMANA"]}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===(xe=Ne.max_week_day)||void 0===xe?void 0:xe.day," con ",null===(he=Ne.max_week_day)||void 0===he?void 0:he.total," personas"]}),Object(y.jsxs)("span",{className:"detailMax",children:["RANGO:",ge.state.date_from," - ",ge.state.date_to]})]}),Object(y.jsx)(ue,{data:Ne.week,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["ACUMULADO DE ","total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR CADA D\xcdA DEL MES"]}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===(pe=Ne.max_month_day)||void 0===pe?void 0:pe.day," con ",null===(ve=Ne.max_month_day)||void 0===ve?void 0:ve.total," personas"]}),Object(y.jsxs)("span",{className:"detailMax",children:["RANGO:",ge.state.date_from," - ",ge.state.date_to]})]}),Object(y.jsx)(W,{data:Ne.month,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-primary",id:"graficmonth"})]}),Object(y.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(y.jsx)("button",{disabled:Me,onClick:ze,className:"filterBtn active",children:Me?"CARGANDO...":"GENERAR REPORTE"})})]})})},ze=function(e){var t,a,o,s,c,r,l,i=e.location,j=e.history,m=Object(n.useState)({hours:[],week:[],month:[],progress:[]}),x=Object(b.a)(m,2),h=x[0],p=x[1],v=Object(n.useState)(!1),S=Object(b.a)(v,2),N=S[0],A=S[1],E=Object(n.useState)("PERSONAS"),D=Object(b.a)(E,2),T=D[0],P=D[1];Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,a,n,o,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.state){e.next=2;break}return e.abrupt("return",j.push("/reportes/especifico"));case 2:return t="?",Object.keys(i.state).forEach((function(e){return t+="".concat(e,"=").concat(i.state[e],"&")})),t=t.substring(0,t.length-1),e.next=7,O("/reports/specific".concat(t));case 7:return a=e.sent,e.next=10,a.json();case 10:n=e.sent,o=n.hours.map((function(e){return{label:e.time,x:e.hour,y:e[i.state.gender]}})),s=n.week.map((function(e){return{label:e.dow,x:e.dow,y:e[i.state.gender]}})),c=n.month.map((function(e){return{label:e.day,x:e.day,y:e[i.state.gender]}})),"male"===i.state.gender&&P("HOMBRES"),"female"===i.state.gender&&P("MUJERES"),p(Object(f.a)(Object(f.a)({},n),{},{hours:o,week:s,month:c}));case 17:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n,o,s,c,r,l,u,b,j,m,x,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Se genero!"),o=document.querySelector("#grafichour"),s=document.querySelector("#graficweek"),c=document.querySelector("#graficmonth "),r="",l="",u="",A(!0),e.next=10,Object(Pe.a)(o).then((function(e){return r=e}));case 10:return e.next=12,Object(Pe.a)(s).then((function(e){return l=e}));case 12:return e.next=14,Object(Pe.a)(c).then((function(e){return u=e}));case 14:return b=new Te.a("p","pt"),(j=new Image).src="/assets/images/pdf/logoleft.png",(m=new Image).src="/assets/images/pdf/logorigth.png",b.addImage(j,"png",30,10,100,20),b.addImage(m,"png",500,13,65,15),b.setFontSize(9),b.setTextColor("0502D3"),b.text(30,60,"REPORTE EJUCUTIVO"),b.setFontSize(11),b.setTextColor("262626"),b.text(170,90,"TOTAL ".concat("total"===i.state.gender?"PERSONAS":"".concat(T)," POR HORA DEL D\xcdA DE AYER")),b.setFontSize(9),b.setTextColor("0502D3"),b.text(30,140,"HORA M\xc1S TRANSITADA: ".concat(h.max_hour.hour," CON ").concat(Z(null===h||void 0===h||null===(t=h.max_hour)||void 0===t?void 0:t.total)," PERSONAS")),b.setFontSize(9),b.setTextColor("424242"),b.text(440,140,"RANGO:".concat(i.state.date_from," - ").concat(i.state.date_to)),b.addImage(r,"jpg",80,150,430,250),b.setFontSize(9),b.setTextColor("424242"),b.text(30,420,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),b.setFontSize(9),b.setTextColor("424242"),b.text(440,420,"Tipo de t\xf3tem:  ".concat(i.state.resource?i.state.resource:"t\xf3tem acumulado")),b.setFontSize(11),b.setTextColor("262626"),b.text(170,480,"TOTAL DE ".concat("total"===i.state.gender?"PERSONAS":"".concat(T)," POR D\xcdA DE LA SEMANA")),b.setFontSize(9),b.setTextColor("black"),b.text(30,530,"D\xcdA DE LA SEMANA M\xc1S TRANSITADO: ".concat(h.max_week_day.day," CON ").concat(Z(null===h||void 0===h||null===(a=h.max_week_day)||void 0===a?void 0:a.total)," PERSONAS")),b.setFontSize(9),b.setTextColor("424242"),b.text(440,530,"RANGO:".concat(i.state.date_from," - ").concat(i.state.date_to)),b.addImage(l,"jpg",80,540,430,250),b.setFontSize(9),b.setTextColor("424242"),b.text(30,810,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),b.setFontSize(9),b.setTextColor("424242"),b.text(440,810,"Tipo de t\xf3tem:  ".concat(i.state.resource?i.state.resource:"t\xf3tem acumulado")),b.addPage(),b.addImage(j,"png",30,20,100,20),b.addImage(m,"png",500,20,65,15),b.setFontSize(11),b.setTextColor("black"),b.text(170,80,"ACUMULADO DE ".concat("total"===i.state.gender?"PERSONAS":"".concat(T)," POR CADA D\xcdA DEL MES")),b.setFontSize(9),b.setTextColor("black"),b.text(30,130,"D\xcdA DEL MES MAS TRANSITADO: ".concat(h.max_month_day.day," CON ").concat(Z(null===h||void 0===h||null===(n=h.max_month_day)||void 0===n?void 0:n.total)," PERSONAS")),b.setFontSize(9),b.setTextColor("424242"),b.text(440,130,"RANGO:".concat(i.state.date_from," - ").concat(i.state.date_to)),b.addImage(u,"jpg",80,140,430,250),b.setFontSize(9),b.setTextColor("424242"),b.text(30,410,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),b.setFontSize(9),b.setTextColor("424242"),b.text(440,410,"Tipo de t\xf3tem:  ".concat(i.state.resource?i.state.resource:"t\xf3tem acumulado")),x=b.output("blob"),(p=new FormData).append("upload_file",x),p.append("name","DSP-SODA-CCPN-PE-A01-".concat(i.state.date_from.replaceAll("-",""),"-").concat(i.state.date_to.replaceAll("-",""),"-REPORTE-EJECUTIVO.pdf")),b.save("DSP-SODA-CCPN-PE-A01-".concat(i.state.date_from.replaceAll("-",""),"-").concat(i.state.date_to.replaceAll("-",""),"-REPORTE-COMERICAL.pdf")),A(!1),e.next=83,O("/reports/upload-file",p,"UPLOAD");case 83:return e.next=85,e.sent.json();case 85:e.sent;case 86:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(V,{children:Object(y.jsxs)("div",{className:"contenedor",children:[Object(y.jsx)("h3",{className:"subTitle spaceTop",children:"REPORTE EJECUTIVO"}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL ","total"===i.state.gender?"PERSONAS":"".concat(T)," POR HORA DEL D\xcdA DE AYER"]}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===(t=h.max_hour)||void 0===t?void 0:t.hour," con ",null===(a=h.max_hour)||void 0===a?void 0:a.total," personas"]}),Object(y.jsxs)("span",{className:"detailMax",children:["RANGO:",i.state.date_from," - ",i.state.date_to]})]}),Object(y.jsx)(W,(o={data:h.hours,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichour"},Object(g.a)(o,"id","grafichour"),Object(g.a)(o,"theme","bg-yellow"),o))]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL DE ","total"===i.state.gender?"PERSONAS":"".concat(T)," POR D\xcdA DE LA SEMANA"]}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===(s=h.max_week_day)||void 0===s?void 0:s.day," con ",null===(c=h.max_week_day)||void 0===c?void 0:c.total," personas"]}),Object(y.jsxs)("span",{className:"detailMax",children:["RANGO:",i.state.date_from," - ",i.state.date_to]})]}),Object(y.jsx)(ue,{data:h.week,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["ACUMULADO DE ","total"===i.state.gender?"PERSONAS":"".concat(T)," POR CADA D\xcdA DEL MES"]}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===(r=h.max_month_day)||void 0===r?void 0:r.day," con ",null===(l=h.max_month_day)||void 0===l?void 0:l.total," personas"]}),Object(y.jsxs)("span",{className:"detailMax",children:["RANGO:",i.state.date_from," - ",i.state.date_to]})]}),Object(y.jsx)(W,{data:h.month,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-yellow",id:"graficmonth"})]}),Object(y.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(y.jsx)("button",{disabled:N,onClick:w,className:"filterBtn active",children:N?"CARGANDO...":"GENERAR REPORTE"})})]})})},Ge=function(e){var t=e.methodpdf,a=e.methodcsv,n=e.methodshare;return Object(y.jsxs)("div",{className:"btnExportsGraphics",children:[Object(y.jsx)("button",{onClick:a,children:Object(y.jsx)("img",{src:"/assets/icons/downloadcsv.svg"})}),Object(y.jsx)("button",{onClick:t,children:Object(y.jsx)("img",{src:"/assets/icons/Impresion.svg"})}),Object(y.jsx)("button",{onClick:n,children:Object(y.jsx)("img",{src:"/assets/icons/share.svg"})})]})},Ye=["ccpn001","ccpn002","ccpn003"],Ue=function(e){var t=e.history,a=(Object(N.c)((function(e){return e.trazabilidad})).resources,Object(N.c)((function(e){return e.person})),Object(N.c)((function(e){return e.person}))),o=a.hoursPersonTotal,s=(a.hoursPersonMale,a.hoursPersonFemale,a.weekPersonTotal),c=(a.weekPersonMale,a.weekPersonFemale,a.monthPersonTotal),r=(a.monthPersonMale,a.monthPersonFemale,a.heatmapPersonTotal,a.heatmapPersonRange,a.rangePersonAges,a.maxHourPersonTotal),i=(a.maxHourPersonMale,a.maxHourPersonFemale,a.maxWeekPersonTotal),d=(a.maxWeekPersonMale,a.maxWeekPersonFemale,a.maxMonthPersonTotal),u=(a.maxMonthPersonMale,a.maxMonthPersonFemale,Object(N.c)((function(e){return e.date}))),j=u.dateStartHourPerson,m=u.dateEndHourPerson,O=(u.dateStartHourMalePerson,u.dateEndHourMalePerson,u.dateStartHourFemalePerson,u.dateEndHourFemalePerson,u.dateStartWeekPerson),x=u.dateEndWeekPerson,h=(u.dateStartWeekMalePerson,u.dateEndWeekMalePerson,u.dateStartWeekFemalePerson,u.dateEndWeekFemalePerson,u.dateStartMonthPerson),p=u.dateEndMonthPerson,v=(u.dateStartMonthMalePerson,u.dateEndMonthMalePerson,u.dateStartMonthFemalePerson,u.dateEndMonthFemalePerson,u.dateStartAgePerson,u.dateEndAgePerson,u.dateStartHeatMap,u.dateEndHeatMap,Object(l.h)().name),g=Object(N.b)(),f=de(L,v,"total","dateStartHourPerson","dateEndHourPerson",""),S=Object(b.a)(f,1)[0],A=de(H,v,"total","dateStartWeekPerson","dateEndWeekPerson",""),E=Object(b.a)(A,1)[0],D=de(B,v,"total","dateStartMontPerson","dateEndMonthPerson","",!0),T=Object(b.a)(D,1)[0],P=xe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},L,v,"total","dateStartHourPerson","dateEndHourMalePerson","hourstotalrst",1),M=Object(b.a)(P,2),w=M[0],k=(M[1],xe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},H,v,"total","dateStartWeekPerson","dateEndWeekPerson","weektotalrst")),C=Object(b.a)(k,2),R=C[0],_=(C[1],xe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},B,v,"total","dateStartMontPerson","dateEndMonthPerson","monthtotalrst")),I=Object(b.a)(_,2),z=I[0];I[1];return Object(n.useEffect)((function(){Ye.includes(v.toLowerCase())||t.push("/"),g(Ne()),g(F())}),[]),Object(y.jsxs)(V,{children:[Object(y.jsx)("h3",{className:"subTitle spaceTop",children:"Tienda 1:Panister\xeda"}),Object(y.jsx)("div",{className:"spaceTop",children:Object(y.jsx)("div",{className:"contentcanvas   m-auto",children:Object(y.jsx)("canvas",{style:{backgroundImage:"url(/assets/images/planoflujo.jpg)"},className:"mt",id:"monitoreoSensor",width:"1024",height:"556"})})}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA"}),Object(y.jsxs)("span",{className:"spaceBottom text-center d-block",children:["( ",j," - ",m," )"]}),o.length>0&&Object(y.jsx)(w,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===r||void 0===r?void 0:r.hour," con ",Z(null===r||void 0===r?void 0:r.total)," personas"]}),o.length>0&&Object(y.jsx)(S,{})]}),Object(y.jsx)(W,{data:o,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Personas:",scltxtlbl:"Cantidad de Personas",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourTotal"}),o.length>0&&Object(y.jsx)(Ge,{methodpdf:function(){return we("grafichourTotal",j,m,"TOTAL DE HOMBRES POR HORA DEL D\xcdA","HORA M\xc1S TRANSITADA: ".concat(r.hour," CON ").concat(Z(r.total)," PERSONAS"),!1,v)},methodcsv:function(){return Ce("hour",j,m,"DE-HOMBRES-POR-HORA-DEL-DIA")},methodshare:function(){return Re("grafichourTotal",j,m,"hour","P")}})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",O," - ",x," )"]}),s.length>0&&Object(y.jsx)(R,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===i||void 0===i?void 0:i.day," con ",Z(null===i||void 0===i?void 0:i.total)," personas"]}),s.length>0&&Object(y.jsx)(E,{})]}),Object(y.jsx)(ue,{data:s,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"}),s.length>0&&Object(y.jsx)(Ge,{methodpdf:function(){return we("graficweek",O,x,"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA","DIA M\xc1S TRANSITADO: ".concat(i.day," CON ").concat(Z(i.total)," PERSONAS"),!1,v)},methodcsv:function(){return Ce("week",O,x,"DE-PERSONAS-POR-DIA-DE-LA-SEMANA")},methodshare:function(){return Re("graficweek",O,x,"week","P")}})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"}),Object(y.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",h," - ",p," )"]}),c.length>0&&Object(y.jsx)(z,{}),Object(y.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===d||void 0===d?void 0:d.day," con ",null===d||void 0===d?void 0:d.total," personas"]}),c.length>0&&Object(y.jsx)(T,{})]}),Object(y.jsx)(W,{data:c,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-yellow",id:"graficmonth"}),c.length>0&&Object(y.jsx)(Ge,{methodpdf:function(){return we("graficmonth",h,p,"TOTAL DE PERSONAS POR D\xcdA DEL MES","DIA M\xc1S TRANSITADA: ".concat(d.day," CON ").concat(Z(d.total)," PERSONAS"),!1,v)},methodcsv:function(){return Ce("month",h,p,"DE-PERSONAS-POR-DIA-DEL-MES")},methodshare:function(){return Re("graficmonth",h,p,"month","P")}})]})]})},We=function(){var e,t,a,o,s,c,r,l,i,j,m,O,x,h,p,v,S,N,A,E,D,T,P,w,k,C,R,_,F,I,L,H,B,z,G,Y,U,X,q,J,Q,ne,oe,se,ce,re,le,ie,de,be,je,me=Object(n.useState)({hours:[],week:[],month:[],progress:[]}),Oe=Object(b.a)(me,2),xe=Oe[0],he=Oe[1];return Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,a,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dashboard.qonteo.com/REST/reports/specific?report_type=c",{headers:{"Content-type":"Application/json",Authorization:"bear eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eydzdWInOiAnNDQyNDQ4JywgJ2lhdCc6IDE1OTg4ODczOTl9.20f471933ae0a9c58d525f4ab0c1eef7adab03f17c3bbe18a00cf30a1ef06948"}});case 2:return e.next=4,e.sent.json();case 4:t=e.sent,console.log(t),a=t.hours.map((function(e){return{label:e.time,x:e.hour,y:e.total}})),n=t.week.map((function(e){return{label:e.dow,x:e.dow,y:e.total}})),o=t.month.map((function(e){return{label:e.day,x:e.day,y:e.total}})),he(Object(f.a)(Object(f.a)({},t),{},{hours:a,week:n,month:o}));case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,a,n,o,s,c,r,l,i,u,b,j,m,O,x,h,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(xe.hours.length>0)){e.next=71;break}return o=document.getElementById("exportGrilla"),s=document.querySelector("#grafichour"),c=document.querySelector("#graficweek"),r=document.querySelector("#graficmonth"),l="",i="",u="",b="",e.next=11,Object(Pe.a)(o).then((function(e){return l=e}));case 11:return e.next=13,Object(Pe.a)(s).then((function(e){return i=e}));case 13:return e.next=15,Object(Pe.a)(c).then((function(e){return u=e}));case 15:return e.next=17,Object(Pe.a)(r).then((function(e){return b=e}));case 17:return j=new Te.a("p","pt"),(m=new Image).src="/assets/images/pdf/logoleft.png",(O=new Image).src="/assets/images/pdf/logorigth.png",j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(9),j.setTextColor(10,24,241),j.text(30,60,"REPORTE COMERCIAL"),j.addImage(l,"jpg",60,90,480,280),j.setFontSize(11),j.setTextColor("262626"),j.text(170,430,"TOTAL DE  PERSONAS POR HORA DEL D\xcdA DE AYER"),j.setFontSize(9),j.setTextColor("0502D3"),j.text(30,480,"HORA M\xc1S TRANSITADA: ".concat(xe.max_hour.hour," CON ").concat(Z(null===xe||void 0===xe||null===(t=xe.max_hour)||void 0===t?void 0:t.total)," PERSONAS")),j.addImage(i,"jpg",80,490,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,760,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.addPage(),j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(11),j.setTextColor("262626"),j.text(170,90,"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"),j.setFontSize(9),j.setTextColor("black"),j.text(30,140,"D\xcdA DE LA SEMANA M\xc1S TRANSITADO: ".concat(xe.max_week_day.day," CON ").concat(Z(null===xe||void 0===xe||null===(a=xe.max_week_day)||void 0===a?void 0:a.total)," PERSONAS")),j.addImage(u,"jpg",80,150,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,420,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(11),j.setTextColor("black"),j.text(170,480,"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"),j.setFontSize(9),j.setTextColor("black"),j.text(30,530,"D\xcdA DEL MES MAS TRANSITADO: ".concat(xe.max_month_day.day," CON ").concat(Z(null===xe||void 0===xe||null===(n=xe.max_month_day)||void 0===n?void 0:n.total)," PERSONAS")),j.addImage(b,"jpg",80,540,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,810,"Reporte generado el ".concat(Object(M.a)(new Date,"yyyy-MM-dd")," - ").concat(Object(M.a)(new Date,"HH:mm")," hrs/PE.CCPN.01")),x=j.output("blob"),(h=new FormData).append("upload_file",x),h.append("name","DSP-SODA-CCPN-PE-A01-REPORTE-COMERICAL.pdf"),e.next=67,fetch("https://dashboard.qonteo.com/REST/reports/upload-file",{method:"POST",headers:{Authorization:"bear eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eydzdWInOiAnNDQyNDQ4JywgJ2lhdCc6IDE1OTg4ODczOTl9.20f471933ae0a9c58d525f4ab0c1eef7adab03f17c3bbe18a00cf30a1ef06948"},body:h});case 67:return e.next=69,e.sent.json();case 69:p=e.sent,console.log(p);case 71:case"end":return e.stop()}}),e)})))()}),[xe]),Object(y.jsx)(V,{isSidebar:!1,children:Object(y.jsxs)("div",{className:"contenedor",children:[Object(y.jsx)("h3",{className:"subTitle spaceTop",children:"REPORTE COMERCIAL"}),Object(y.jsx)("h3",{className:"subTitle spaceTopSmall color-secundary",children:"ULTIMOS  D\xcdAS"}),Object(y.jsxs)("div",{className:"spaceXY",id:"exportGrilla",children:[Object(y.jsxs)("div",{className:"boxGridFour",children:[Object(y.jsx)($,{count:null===xe||void 0===xe||null===(e=xe.boxes)||void 0===e||null===(t=e.today)||void 0===t?void 0:t.count,percent:null===xe||void 0===xe||null===(a=xe.boxes)||void 0===a||null===(o=a.today)||void 0===o?void 0:o.percent}),Object(y.jsx)(te,{theme:"light",count:null===xe||void 0===xe||null===(s=xe.boxes)||void 0===s||null===(c=s.yesterday)||void 0===c?void 0:c.total}),Object(y.jsx)(ae,{theme:"light",count:null===xe||void 0===xe||null===(r=xe.boxes)||void 0===r||null===(l=r.week)||void 0===l?void 0:l.total,percent:null===xe||void 0===xe||null===(i=xe.boxes)||void 0===i||null===(j=i.week)||void 0===j?void 0:j.percent}),Object(y.jsx)(K,{theme:"light",count:null===xe||void 0===xe||null===(m=xe.boxes)||void 0===m||null===(O=m.total)||void 0===O?void 0:O.count})]}),Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"male",count:null===xe||void 0===xe||null===(x=xe.boxes)||void 0===x||null===(h=x.today)||void 0===h?void 0:h.male,total:null===xe||void 0===xe||null===(p=xe.boxes)||void 0===p||null===(v=p.today)||void 0===v?void 0:v.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"male",count:null===xe||void 0===xe||null===(S=xe.boxes)||void 0===S||null===(N=S.yesterday)||void 0===N?void 0:N.male,total:null===xe||void 0===xe||null===(A=xe.boxes)||void 0===A||null===(E=A.yesterday)||void 0===E?void 0:E.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===xe||void 0===xe||null===(D=xe.boxes)||void 0===D||null===(T=D.week)||void 0===T?void 0:T.male,total:null===xe||void 0===xe||null===(P=xe.boxes)||void 0===P||null===(w=P.week)||void 0===w?void 0:w.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"male",count:null===xe||void 0===xe||null===(k=xe.boxes)||void 0===k||null===(C=k.total)||void 0===C?void 0:C.male,total:null===xe||void 0===xe||null===(R=xe.boxes)||void 0===R||null===(_=R.total)||void 0===_?void 0:_.count,txtDay:"TOTAL",theme:"light"})]}),Object(y.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(y.jsx)(ee,{gender:"female",count:null===xe||void 0===xe||null===(F=xe.boxes)||void 0===F||null===(I=F.today)||void 0===I?void 0:I.female,total:null===xe||void 0===xe||null===(L=xe.boxes)||void 0===L||null===(H=L.today)||void 0===H?void 0:H.count,txtDay:"HOY"}),Object(y.jsx)(ee,{gender:"female",count:null===xe||void 0===xe||null===(B=xe.boxes)||void 0===B||null===(z=B.yesterday)||void 0===z?void 0:z.female,total:null===xe||void 0===xe||null===(G=xe.boxes)||void 0===G||null===(Y=G.yesterday)||void 0===Y?void 0:Y.total,txtDay:"AYER",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===xe||void 0===xe||null===(U=xe.boxes)||void 0===U||null===(X=U.week)||void 0===X?void 0:X.female,total:null===xe||void 0===xe||null===(q=xe.boxes)||void 0===q||null===(J=q.week)||void 0===J?void 0:J.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(y.jsx)(ee,{gender:"female",count:null===xe||void 0===xe||null===(Q=xe.boxes)||void 0===Q||null===(ne=Q.total)||void 0===ne?void 0:ne.female,total:null===xe||void 0===xe||null===(oe=xe.boxes)||void 0===oe||null===(se=oe.total)||void 0===se?void 0:se.count,txtDay:"TOTAL",theme:"light"})]})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center spaceBottomSmall",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA DE AYER"}),Object(y.jsx)("div",{className:"detailGrafic spaceBottom",children:Object(y.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===(ce=xe.max_hour)||void 0===ce?void 0:ce.hour," con ",null===(re=xe.max_hour)||void 0===re?void 0:re.total," personas"]})}),Object(y.jsx)(W,(le={data:xe.hours,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichourMale"},Object(g.a)(le,"id","grafichour"),Object(g.a)(le,"theme","bg-yellow"),le))]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center spaceBottomSmall",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(y.jsx)("div",{className:"detailGrafic spaceBottom",children:Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===(ie=xe.max_week_day)||void 0===ie?void 0:ie.day," con ",null===(de=xe.max_week_day)||void 0===de?void 0:de.total," personas"]})}),Object(y.jsx)(ue,{data:xe.week,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(y.jsxs)("div",{className:"spaceXY d-block",children:[Object(y.jsx)("h3",{className:"subTitle  text-center spaceBottomSmall",children:"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"}),Object(y.jsx)("div",{className:"detailGrafic spaceBottom",children:Object(y.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===(be=xe.max_month_day)||void 0===be?void 0:be.day," con ",null===(je=xe.max_month_day)||void 0===je?void 0:je.total," personas"]})}),Object(y.jsx)(W,{data:xe.month,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-primary",id:"graficmonth"})]})]})})},Xe=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.auth})),a=t.isCheking,o=t.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((localStorage.getItem("token-qonteo")||"").length>0)){e.next=17;break}return e.prev=2,e.next=5,m("token-renew");case 5:return e.next=7,e.sent.json();case 7:a=e.sent,Object.keys(a).length>0&&(n=a.user,t(v({uid:n._id,firstNames:n.firstNames,lastName:n.lastName,email:n.email,phonenumber:n.phonenumber,portraitUrl:n.portrait_url,country:n.country,city:n.city,groups:n.groups,isCheking:!0}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(p()),console.log("error");case 15:e.next=18;break;case 17:t(p());case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(y.jsx)(r.a,{children:Object(y.jsx)("div",{children:Object(y.jsxs)(l.d,{children:[Object(y.jsx)(fe,{isAuthenticated:!!o,path:"/auth/login",exact:!0,component:T}),Object(y.jsx)(fe,{isAuthenticated:!!o,exact:!0,path:"/auth/registrarse",component:P}),Object(y.jsx)(ye,{isAuthenticated:!!o,path:"/",exact:!0,component:Fe.isBrowser?ve:_e}),Object(y.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/reportes/especifico",component:Ie}),Object(y.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/reportes/operacional",component:Le}),Object(y.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/reportes-screen/comercial",component:Be}),Object(y.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/reportes-screen/ejecutivo",component:ze}),Object(y.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/trazabilidad/comercio",component:De}),Object(y.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/sensor/:name",component:Ue}),Object(y.jsx)(l.b,{exact:!0,path:"/export-test",component:We}),Object(y.jsx)(l.a,{to:"/"})]})})}):Object(y.jsx)("h3",{children:"Cargando..."})},qe=a(32),Je={isCheking:!1},Ve={dateStartHourPerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndHourPerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartHourMalePerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndHourMalePerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartHourFemalePerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndHourFemalePerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartWeekPerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndWeekPerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartWeekMalePerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndWeekMalePerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartWeekFemalePerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndWeekFemalePerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartMonthPerson:Object(M.a)(Object(k.a)(new Date,1),"yyyy-MM-dd"),dateEndMonthPerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartMonthMalePerson:Object(M.a)(Object(k.a)(new Date,1),"yyyy-MM-dd"),dateEndMonthMalePerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartMonthFemalePerson:Object(M.a)(Object(k.a)(new Date,1),"yyyy-MM-dd"),dateEndMonthFemalePerson:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartHeatMap:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndHeatMap:Object(M.a)(new Date,"yyyy-MM-dd"),dateStartAgePerson:Object(M.a)(Object(w.a)(new Date,7),"yyyy-MM-dd"),dateEndAgePerson:Object(M.a)(new Date,"yyyy-MM-dd")},Ze={hoursPersonTotal:[],hoursPersonMale:[],hoursPersonFemale:[],weekPersonTotal:[],weekPersonMale:[],weekPersonFemale:[],monthPersonTotal:[],monthPersonMale:[],monthPersonFemale:[],heatmapPersonTotal:[],heatmapPersonRange:[],rangePersonAges:[],maxHourPersonTotal:{},maxHourPersonMale:{},maxHourPersonFemale:{},maxWeekPersonTotal:{},maxWeekPersonMale:{},maxWeekPersonFemale:{},maxMonthPersonTotal:{},maxMonthPersonMale:{},maxMonthPersonFemale:{}},Qe={resources:[],totemTotal:{},tabs:[]},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.getToten:return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},Ke={resources:[],hours:[]},et=Object(qe.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.authLogin:return Object(f.a)(Object(f.a)({},e),{},{isCheking:!1},t.payload);case x.authCheckingFinish:return Object(f.a)(Object(f.a)({},e),{},{isCheking:!0});case x.logout:case x.authChecking:return{isCheking:!0};default:return e}},person:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.initializePerson:return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},date:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x.changeDate:return Object(f.a)(Object(f.a)({},t),{},(e={},Object(g.a)(e,a.start,a.startvalue),Object(g.a)(e,a.end,a.endvalue),e));case x.resetDates:return Ve;default:return t}},toten:$e,trazabilidad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.initialDataTrazabilidad:return Object(f.a)(Object(f.a)({},e),t.payload);case x.changeTrazabilidadByHour:return Object(f.a)(Object(f.a)({},e),{},{resources:t.payload});default:return e}}}),tt=a(129),at="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qe.d,nt=Object(qe.e)(et,at(Object(qe.a)(tt.a))),ot=(a(341),function(){return Object(y.jsx)(N.a,{store:nt,children:Object(y.jsx)(Xe,{})})});c.a.render(Object(y.jsx)(ot,{}),document.getElementById("root"))}},[[342,1,3]]]);
//# sourceMappingURL=main.6f71dfc0.chunk.js.map